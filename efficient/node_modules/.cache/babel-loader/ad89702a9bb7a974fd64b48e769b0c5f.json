{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = mapStyleToAttrs;\n\nvar _Path = require(\"../graphic/Path.js\");\n\nvar _Image = _interopRequireDefault(require(\"../graphic/Image.js\"));\n\nvar _dashStyle = require(\"../canvas/dashStyle.js\");\n\nvar _util = require(\"../core/util.js\");\n\nvar _helper = require(\"./helper.js\");\n\nvar NONE = 'none';\nvar mathRound = Math.round;\n\nfunction pathHasFill(style) {\n  var fill = style.fill;\n  return fill != null && fill !== NONE;\n}\n\nfunction pathHasStroke(style) {\n  var stroke = style.stroke;\n  return stroke != null && stroke !== NONE;\n}\n\nvar strokeProps = ['lineCap', 'miterLimit', 'lineJoin'];\nvar svgStrokeProps = (0, _util.map)(strokeProps, function (prop) {\n  return \"stroke-\" + prop.toLowerCase();\n});\n\nfunction mapStyleToAttrs(updateAttr, style, el, forceUpdate) {\n  var opacity = style.opacity == null ? 1 : style.opacity;\n\n  if (el instanceof _Image.default) {\n    updateAttr('opacity', opacity);\n    return;\n  }\n\n  if (pathHasFill(style)) {\n    var fill = (0, _helper.normalizeColor)(style.fill);\n    updateAttr('fill', fill.color);\n    var fillOpacity = style.fillOpacity != null ? style.fillOpacity * fill.opacity * opacity : fill.opacity * opacity;\n\n    if (forceUpdate || fillOpacity < 1) {\n      updateAttr('fill-opacity', fillOpacity);\n    }\n  } else {\n    updateAttr('fill', NONE);\n  }\n\n  if (pathHasStroke(style)) {\n    var stroke = (0, _helper.normalizeColor)(style.stroke);\n    updateAttr('stroke', stroke.color);\n    var strokeScale = style.strokeNoScale ? el.getLineScale() : 1;\n    var strokeWidth = strokeScale ? (style.lineWidth || 0) / strokeScale : 0;\n    var strokeOpacity = style.strokeOpacity != null ? style.strokeOpacity * stroke.opacity * opacity : stroke.opacity * opacity;\n    var strokeFirst = style.strokeFirst;\n\n    if (forceUpdate || strokeWidth !== 1) {\n      updateAttr('stroke-width', strokeWidth);\n    }\n\n    if (forceUpdate || strokeFirst) {\n      updateAttr('paint-order', strokeFirst ? 'stroke' : 'fill');\n    }\n\n    if (forceUpdate || strokeOpacity < 1) {\n      updateAttr('stroke-opacity', strokeOpacity);\n    }\n\n    if (style.lineDash) {\n      var _a = (0, _dashStyle.getLineDash)(el),\n          lineDash = _a[0],\n          lineDashOffset = _a[1];\n\n      if (lineDash) {\n        lineDashOffset = mathRound(lineDashOffset || 0);\n        updateAttr('stroke-dasharray', lineDash.join(','));\n\n        if (lineDashOffset || forceUpdate) {\n          updateAttr('stroke-dashoffset', lineDashOffset);\n        }\n      }\n    } else if (forceUpdate) {\n      updateAttr('stroke-dasharray', NONE);\n    }\n\n    for (var i = 0; i < strokeProps.length; i++) {\n      var propName = strokeProps[i];\n\n      if (forceUpdate || style[propName] !== _Path.DEFAULT_PATH_STYLE[propName]) {\n        var val = style[propName] || _Path.DEFAULT_PATH_STYLE[propName];\n        val && updateAttr(svgStrokeProps[i], val);\n      }\n    }\n  } else if (forceUpdate) {\n    updateAttr('stroke', NONE);\n  }\n}","map":{"version":3,"names":["NONE","mathRound","Math","round","pathHasFill","style","fill","pathHasStroke","stroke","strokeProps","svgStrokeProps","map","prop","toLowerCase","mapStyleToAttrs","updateAttr","el","forceUpdate","opacity","ZRImage","normalizeColor","color","fillOpacity","strokeScale","strokeNoScale","getLineScale","strokeWidth","lineWidth","strokeOpacity","strokeFirst","lineDash","_a","getLineDash","lineDashOffset","join","i","length","propName","DEFAULT_PATH_STYLE","val"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/zrender/lib/svg/mapStyleToAttrs.js"],"sourcesContent":["import { DEFAULT_PATH_STYLE } from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport { getLineDash } from '../canvas/dashStyle.js';\nimport { map } from '../core/util.js';\nimport { normalizeColor } from './helper.js';\nvar NONE = 'none';\nvar mathRound = Math.round;\nfunction pathHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== NONE;\n}\nfunction pathHasStroke(style) {\n    var stroke = style.stroke;\n    return stroke != null && stroke !== NONE;\n}\nvar strokeProps = ['lineCap', 'miterLimit', 'lineJoin'];\nvar svgStrokeProps = map(strokeProps, function (prop) { return \"stroke-\" + prop.toLowerCase(); });\nexport default function mapStyleToAttrs(updateAttr, style, el, forceUpdate) {\n    var opacity = style.opacity == null ? 1 : style.opacity;\n    if (el instanceof ZRImage) {\n        updateAttr('opacity', opacity);\n        return;\n    }\n    if (pathHasFill(style)) {\n        var fill = normalizeColor(style.fill);\n        updateAttr('fill', fill.color);\n        var fillOpacity = style.fillOpacity != null\n            ? style.fillOpacity * fill.opacity * opacity\n            : fill.opacity * opacity;\n        if (forceUpdate || fillOpacity < 1) {\n            updateAttr('fill-opacity', fillOpacity);\n        }\n    }\n    else {\n        updateAttr('fill', NONE);\n    }\n    if (pathHasStroke(style)) {\n        var stroke = normalizeColor(style.stroke);\n        updateAttr('stroke', stroke.color);\n        var strokeScale = style.strokeNoScale\n            ? el.getLineScale()\n            : 1;\n        var strokeWidth = (strokeScale ? (style.lineWidth || 0) / strokeScale : 0);\n        var strokeOpacity = style.strokeOpacity != null\n            ? style.strokeOpacity * stroke.opacity * opacity\n            : stroke.opacity * opacity;\n        var strokeFirst = style.strokeFirst;\n        if (forceUpdate || strokeWidth !== 1) {\n            updateAttr('stroke-width', strokeWidth);\n        }\n        if (forceUpdate || strokeFirst) {\n            updateAttr('paint-order', strokeFirst ? 'stroke' : 'fill');\n        }\n        if (forceUpdate || strokeOpacity < 1) {\n            updateAttr('stroke-opacity', strokeOpacity);\n        }\n        if (style.lineDash) {\n            var _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n            if (lineDash) {\n                lineDashOffset = mathRound(lineDashOffset || 0);\n                updateAttr('stroke-dasharray', lineDash.join(','));\n                if (lineDashOffset || forceUpdate) {\n                    updateAttr('stroke-dashoffset', lineDashOffset);\n                }\n            }\n        }\n        else if (forceUpdate) {\n            updateAttr('stroke-dasharray', NONE);\n        }\n        for (var i = 0; i < strokeProps.length; i++) {\n            var propName = strokeProps[i];\n            if (forceUpdate || style[propName] !== DEFAULT_PATH_STYLE[propName]) {\n                var val = style[propName] || DEFAULT_PATH_STYLE[propName];\n                val && updateAttr(svgStrokeProps[i], val);\n            }\n        }\n    }\n    else if (forceUpdate) {\n        updateAttr('stroke', NONE);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}