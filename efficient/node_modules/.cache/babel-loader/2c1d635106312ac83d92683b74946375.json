{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar zrUtil = _interopRequireWildcard(require(\"zrender/lib/core/util.js\"));\n\nvar _BrushController = _interopRequireDefault(require(\"../helper/BrushController.js\"));\n\nvar _visualEncoding = require(\"./visualEncoding.js\");\n\nvar _Component = _interopRequireDefault(require(\"../../view/Component.js\"));\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BrushView =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(BrushView, _super);\n\n  function BrushView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BrushView.type;\n    return _this;\n  }\n\n  BrushView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n    this.model;\n    (this._brushController = new _BrushController.default(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  };\n\n  BrushView.prototype.render = function (brushModel, ecModel, api, payload) {\n    this.model = brushModel;\n\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype.updateTransform = function (brushModel, ecModel, api, payload) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    (0, _visualEncoding.layoutCovers)(ecModel);\n\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype.updateVisual = function (brushModel, ecModel, api, payload) {\n    this.updateTransform(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype.updateView = function (brushModel, ecModel, api, payload) {\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype._updateController = function (brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n  }; // updateLayout: updateController,\n  // updateVisual: updateController,\n\n\n  BrushView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n\n  BrushView.prototype._onBrush = function (eventParam) {\n    var modelId = this.model.id;\n    var areas = this.model.brushTargetManager.setOutputRanges(eventParam.areas, this.ecModel); // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n\n    (!eventParam.isEnd || eventParam.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    eventParam.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  };\n\n  BrushView.type = 'brush';\n  return BrushView;\n}(_Component.default);\n\nvar _default = BrushView;\nexports.default = _default;","map":{"version":3,"names":["BrushView","_super","__extends","_this","apply","arguments","type","prototype","init","ecModel","api","model","_brushController","BrushController","getZr","on","zrUtil","bind","_onBrush","mount","render","brushModel","payload","_updateController","updateTransform","layoutCovers","updateVisual","updateView","$from","id","setPanels","brushTargetManager","makePanelOpts","enableBrush","brushOption","updateCovers","areas","slice","dispose","eventParam","modelId","setOutputRanges","isEnd","removeOnClick","dispatchAction","brushId","clone","ComponentView"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/component/brush/BrushView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../helper/BrushController.js';\nimport { layoutCovers } from './visualEncoding.js';\nimport ComponentView from '../../view/Component.js';\n\nvar BrushView =\n/** @class */\nfunction (_super) {\n  __extends(BrushView, _super);\n\n  function BrushView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BrushView.type;\n    return _this;\n  }\n\n  BrushView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n    this.model;\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  };\n\n  BrushView.prototype.render = function (brushModel, ecModel, api, payload) {\n    this.model = brushModel;\n\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype.updateTransform = function (brushModel, ecModel, api, payload) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    layoutCovers(ecModel);\n\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype.updateVisual = function (brushModel, ecModel, api, payload) {\n    this.updateTransform(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype.updateView = function (brushModel, ecModel, api, payload) {\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n\n  BrushView.prototype._updateController = function (brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n  }; // updateLayout: updateController,\n  // updateVisual: updateController,\n\n\n  BrushView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n\n  BrushView.prototype._onBrush = function (eventParam) {\n    var modelId = this.model.id;\n    var areas = this.model.brushTargetManager.setOutputRanges(eventParam.areas, this.ecModel); // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n\n    (!eventParam.isEnd || eventParam.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    eventParam.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  };\n\n  BrushView.type = 'brush';\n  return BrushView;\n}(ComponentView);\n\nexport default BrushView;"],"mappings":"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"},"metadata":{},"sourceType":"script"}