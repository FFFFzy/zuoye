{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar util = _interopRequireWildcard(require(\"./core/util.js\"));\n\nvar vec2 = _interopRequireWildcard(require(\"./core/vector.js\"));\n\nvar _Draggable = _interopRequireDefault(require(\"./mixin/Draggable.js\"));\n\nvar _Eventful = _interopRequireDefault(require(\"./core/Eventful.js\"));\n\nvar eventTool = _interopRequireWildcard(require(\"./core/event.js\"));\n\nvar _GestureMgr = require(\"./core/GestureMgr.js\");\n\nvar SILENT = 'silent';\n\nfunction makeEventPacket(eveType, targetInfo, event) {\n  return {\n    type: eveType,\n    event: event,\n    target: targetInfo.target,\n    topTarget: targetInfo.topTarget,\n    cancelBubble: false,\n    offsetX: event.zrX,\n    offsetY: event.zrY,\n    gestureEvent: event.gestureEvent,\n    pinchX: event.pinchX,\n    pinchY: event.pinchY,\n    pinchScale: event.pinchScale,\n    wheelDelta: event.zrDelta,\n    zrByTouch: event.zrByTouch,\n    which: event.which,\n    stop: stopEvent\n  };\n}\n\nfunction stopEvent() {\n  eventTool.stop(this.event);\n}\n\nvar EmptyProxy = function (_super) {\n  (0, _tslib.__extends)(EmptyProxy, _super);\n\n  function EmptyProxy() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handler = null;\n    return _this;\n  }\n\n  EmptyProxy.prototype.dispose = function () {};\n\n  EmptyProxy.prototype.setCursor = function () {};\n\n  return EmptyProxy;\n}(_Eventful.default);\n\nvar HoveredResult = function () {\n  function HoveredResult(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  return HoveredResult;\n}();\n\nvar handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n\nvar Handler = function (_super) {\n  (0, _tslib.__extends)(Handler, _super);\n\n  function Handler(storage, painter, proxy, painterRoot) {\n    var _this = _super.call(this) || this;\n\n    _this._hovered = new HoveredResult(0, 0);\n    _this.storage = storage;\n    _this.painter = painter;\n    _this.painterRoot = painterRoot;\n    proxy = proxy || new EmptyProxy();\n    _this.proxy = null;\n\n    _this.setHandlerProxy(proxy);\n\n    _this._draggingMgr = new _Draggable.default(_this);\n    return _this;\n  }\n\n  Handler.prototype.setHandlerProxy = function (proxy) {\n    if (this.proxy) {\n      this.proxy.dispose();\n    }\n\n    if (proxy) {\n      util.each(handlerNames, function (name) {\n        proxy.on && proxy.on(name, this[name], this);\n      }, this);\n      proxy.handler = this;\n    }\n\n    this.proxy = proxy;\n  };\n\n  Handler.prototype.mousemove = function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var isOutside = isOutsideBoundary(this, x, y);\n    var lastHovered = this._hovered;\n    var lastHoveredTarget = lastHovered.target;\n\n    if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n      lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n      lastHoveredTarget = lastHovered.target;\n    }\n\n    var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n    var hoveredTarget = hovered.target;\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n\n    if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(lastHovered, 'mouseout', event);\n    }\n\n    this.dispatchToElement(hovered, 'mousemove', event);\n\n    if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(hovered, 'mouseover', event);\n    }\n  };\n\n  Handler.prototype.mouseout = function (event) {\n    var eventControl = event.zrEventControl;\n\n    if (eventControl !== 'only_globalout') {\n      this.dispatchToElement(this._hovered, 'mouseout', event);\n    }\n\n    if (eventControl !== 'no_globalout') {\n      this.trigger('globalout', {\n        type: 'globalout',\n        event: event\n      });\n    }\n  };\n\n  Handler.prototype.resize = function () {\n    this._hovered = new HoveredResult(0, 0);\n  };\n\n  Handler.prototype.dispatch = function (eventName, eventArgs) {\n    var handler = this[eventName];\n    handler && handler.call(this, eventArgs);\n  };\n\n  Handler.prototype.dispose = function () {\n    this.proxy.dispose();\n    this.storage = null;\n    this.proxy = null;\n    this.painter = null;\n  };\n\n  Handler.prototype.setCursorStyle = function (cursorStyle) {\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(cursorStyle);\n  };\n\n  Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n    targetInfo = targetInfo || {};\n    var el = targetInfo.target;\n\n    if (el && el.silent) {\n      return;\n    }\n\n    var eventKey = 'on' + eventName;\n    var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n    while (el) {\n      el[eventKey] && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n      el.trigger(eventName, eventPacket);\n      el = el.__hostTarget ? el.__hostTarget : el.parent;\n\n      if (eventPacket.cancelBubble) {\n        break;\n      }\n    }\n\n    if (!eventPacket.cancelBubble) {\n      this.trigger(eventName, eventPacket);\n\n      if (this.painter && this.painter.eachOtherLayer) {\n        this.painter.eachOtherLayer(function (layer) {\n          if (typeof layer[eventKey] === 'function') {\n            layer[eventKey].call(layer, eventPacket);\n          }\n\n          if (layer.trigger) {\n            layer.trigger(eventName, eventPacket);\n          }\n        });\n      }\n    }\n  };\n\n  Handler.prototype.findHover = function (x, y, exclude) {\n    var list = this.storage.getDisplayList();\n    var out = new HoveredResult(x, y);\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      var hoverCheckResult = void 0;\n\n      if (list[i] !== exclude && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n        !out.topTarget && (out.topTarget = list[i]);\n\n        if (hoverCheckResult !== SILENT) {\n          out.target = list[i];\n          break;\n        }\n      }\n    }\n\n    return out;\n  };\n\n  Handler.prototype.processGesture = function (event, stage) {\n    if (!this._gestureMgr) {\n      this._gestureMgr = new _GestureMgr.GestureMgr();\n    }\n\n    var gestureMgr = this._gestureMgr;\n    stage === 'start' && gestureMgr.clear();\n    var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n    stage === 'end' && gestureMgr.clear();\n\n    if (gestureInfo) {\n      var type = gestureInfo.type;\n      event.gestureEvent = type;\n      var res = new HoveredResult();\n      res.target = gestureInfo.target;\n      this.dispatchToElement(res, type, gestureInfo.event);\n    }\n  };\n\n  return Handler;\n}(_Eventful.default);\n\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  Handler.prototype[name] = function (event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var isOutside = isOutsideBoundary(this, x, y);\n    var hovered;\n    var hoveredTarget;\n\n    if (name !== 'mouseup' || !isOutside) {\n      hovered = this.findHover(x, y);\n      hoveredTarget = hovered.target;\n    }\n\n    if (name === 'mousedown') {\n      this._downEl = hoveredTarget;\n      this._downPoint = [event.zrX, event.zrY];\n      this._upEl = hoveredTarget;\n    } else if (name === 'mouseup') {\n      this._upEl = hoveredTarget;\n    } else if (name === 'click') {\n      if (this._downEl !== this._upEl || !this._downPoint || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n        return;\n      }\n\n      this._downPoint = null;\n    }\n\n    this.dispatchToElement(hovered, name, event);\n  };\n});\n\nfunction isHover(displayable, x, y) {\n  if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n    var el = displayable;\n    var isSilent = void 0;\n    var ignoreClip = false;\n\n    while (el) {\n      if (el.ignoreClip) {\n        ignoreClip = true;\n      }\n\n      if (!ignoreClip) {\n        var clipPath = el.getClipPath();\n\n        if (clipPath && !clipPath.contain(x, y)) {\n          return false;\n        }\n\n        if (el.silent) {\n          isSilent = true;\n        }\n      }\n\n      var hostEl = el.__hostTarget;\n      el = hostEl ? hostEl : el.parent;\n    }\n\n    return isSilent ? SILENT : true;\n  }\n\n  return false;\n}\n\nfunction isOutsideBoundary(handlerInstance, x, y) {\n  var painter = handlerInstance.painter;\n  return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\n\nvar _default = Handler;\nexports.default = _default;","map":{"version":3,"names":["SILENT","makeEventPacket","eveType","targetInfo","event","type","target","topTarget","cancelBubble","offsetX","zrX","offsetY","zrY","gestureEvent","pinchX","pinchY","pinchScale","wheelDelta","zrDelta","zrByTouch","which","stop","stopEvent","eventTool","EmptyProxy","_super","__extends","_this","apply","arguments","handler","prototype","dispose","setCursor","Eventful","HoveredResult","x","y","handlerNames","Handler","storage","painter","proxy","painterRoot","call","_hovered","setHandlerProxy","_draggingMgr","Draggable","util","each","name","on","mousemove","isOutside","isOutsideBoundary","lastHovered","lastHoveredTarget","__zr","findHover","hovered","hoveredTarget","cursor","dispatchToElement","mouseout","eventControl","zrEventControl","trigger","resize","dispatch","eventName","eventArgs","setCursorStyle","cursorStyle","el","silent","eventKey","eventPacket","__hostTarget","parent","eachOtherLayer","layer","exclude","list","getDisplayList","out","i","length","hoverCheckResult","ignore","isHover","processGesture","stage","_gestureMgr","GestureMgr","gestureMgr","clear","gestureInfo","recognize","dom","res","_downEl","_downPoint","_upEl","vec2","dist","displayable","rectHover","isSilent","ignoreClip","clipPath","getClipPath","contain","hostEl","handlerInstance","getWidth","getHeight"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/zrender/lib/Handler.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport * as util from './core/util.js';\nimport * as vec2 from './core/vector.js';\nimport Draggable from './mixin/Draggable.js';\nimport Eventful from './core/Eventful.js';\nimport * as eventTool from './core/event.js';\nimport { GestureMgr } from './core/GestureMgr.js';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        for (var i = list.length - 1; i >= 0; i--) {\n            var hoverCheckResult = void 0;\n            if (list[i] !== exclude\n                && !list[i].ignore\n                && (hoverCheckResult = isHover(list[i], x, y))) {\n                !out.topTarget && (out.topTarget = list[i]);\n                if (hoverCheckResult !== SILENT) {\n                    out.target = list[i];\n                    break;\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n                if (el.silent) {\n                    isSilent = true;\n                }\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? hostEl : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}