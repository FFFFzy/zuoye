{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = prepareBoxplotData;\n\nvar _number = require(\"../../util/number.js\");\n\nvar _util = require(\"zrender/lib/core/util.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * See:\n *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>\n *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>\n *\n * Helper method for preparing data.\n *\n * @param rawData like\n *        [\n *            [12,232,443], (raw data set for the first box)\n *            [3843,5545,1232], (raw data set for the second box)\n *            ...\n *        ]\n * @param opt.boundIQR=1.5 Data less than min bound is outlier.\n *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).\n *      If 'none'/0 passed, min bound will not be used.\n */\nfunction prepareBoxplotData(rawData, opt) {\n  opt = opt || {};\n  var boxData = [];\n  var outliers = [];\n  var boundIQR = opt.boundIQR;\n  var useExtreme = boundIQR === 'none' || boundIQR === 0;\n\n  for (var i = 0; i < rawData.length; i++) {\n    var ascList = (0, _number.asc)(rawData[i].slice());\n    var Q1 = (0, _number.quantile)(ascList, 0.25);\n    var Q2 = (0, _number.quantile)(ascList, 0.5);\n    var Q3 = (0, _number.quantile)(ascList, 0.75);\n    var min = ascList[0];\n    var max = ascList[ascList.length - 1];\n    var bound = (boundIQR == null ? 1.5 : boundIQR) * (Q3 - Q1);\n    var low = useExtreme ? min : Math.max(min, Q1 - bound);\n    var high = useExtreme ? max : Math.min(max, Q3 + bound);\n    var itemNameFormatter = opt.itemNameFormatter;\n    var itemName = (0, _util.isFunction)(itemNameFormatter) ? itemNameFormatter({\n      value: i\n    }) : (0, _util.isString)(itemNameFormatter) ? itemNameFormatter.replace('{value}', i + '') : i + '';\n    boxData.push([itemName, low, Q1, Q2, Q3, high]);\n\n    for (var j = 0; j < ascList.length; j++) {\n      var dataItem = ascList[j];\n\n      if (dataItem < low || dataItem > high) {\n        var outlier = [itemName, dataItem];\n        outliers.push(outlier);\n      }\n    }\n  }\n\n  return {\n    boxData: boxData,\n    outliers: outliers\n  };\n}","map":{"version":3,"names":["prepareBoxplotData","rawData","opt","boxData","outliers","boundIQR","useExtreme","i","length","ascList","asc","slice","Q1","quantile","Q2","Q3","min","max","bound","low","Math","high","itemNameFormatter","itemName","isFunction","value","isString","replace","push","j","dataItem","outlier"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/chart/boxplot/prepareBoxplotData.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { quantile, asc } from '../../util/number.js';\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\n/**\n * See:\n *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>\n *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>\n *\n * Helper method for preparing data.\n *\n * @param rawData like\n *        [\n *            [12,232,443], (raw data set for the first box)\n *            [3843,5545,1232], (raw data set for the second box)\n *            ...\n *        ]\n * @param opt.boundIQR=1.5 Data less than min bound is outlier.\n *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).\n *      If 'none'/0 passed, min bound will not be used.\n */\n\nexport default function prepareBoxplotData(rawData, opt) {\n  opt = opt || {};\n  var boxData = [];\n  var outliers = [];\n  var boundIQR = opt.boundIQR;\n  var useExtreme = boundIQR === 'none' || boundIQR === 0;\n\n  for (var i = 0; i < rawData.length; i++) {\n    var ascList = asc(rawData[i].slice());\n    var Q1 = quantile(ascList, 0.25);\n    var Q2 = quantile(ascList, 0.5);\n    var Q3 = quantile(ascList, 0.75);\n    var min = ascList[0];\n    var max = ascList[ascList.length - 1];\n    var bound = (boundIQR == null ? 1.5 : boundIQR) * (Q3 - Q1);\n    var low = useExtreme ? min : Math.max(min, Q1 - bound);\n    var high = useExtreme ? max : Math.min(max, Q3 + bound);\n    var itemNameFormatter = opt.itemNameFormatter;\n    var itemName = isFunction(itemNameFormatter) ? itemNameFormatter({\n      value: i\n    }) : isString(itemNameFormatter) ? itemNameFormatter.replace('{value}', i + '') : i + '';\n    boxData.push([itemName, low, Q1, Q2, Q3, high]);\n\n    for (var j = 0; j < ascList.length; j++) {\n      var dataItem = ascList[j];\n\n      if (dataItem < low || dataItem > high) {\n        var outlier = [itemName, dataItem];\n        outliers.push(outlier);\n      }\n    }\n  }\n\n  return {\n    boxData: boxData,\n    outliers: outliers\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}