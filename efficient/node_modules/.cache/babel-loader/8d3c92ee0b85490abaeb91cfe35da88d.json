{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.PRESERVED_NORMAL_STATE = void 0;\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nvar _Transformable = _interopRequireWildcard(require(\"./core/Transformable.js\"));\n\nvar _Animator = _interopRequireWildcard(require(\"./animation/Animator.js\"));\n\nvar _BoundingRect = _interopRequireDefault(require(\"./core/BoundingRect.js\"));\n\nvar _Eventful = _interopRequireDefault(require(\"./core/Eventful.js\"));\n\nvar _text = require(\"./contain/text.js\");\n\nvar _util = require(\"./core/util.js\");\n\nvar _config = require(\"./config.js\");\n\nvar _color = require(\"./tool/color.js\");\n\nvar _constants = require(\"./graphic/constants.js\");\n\nvar PRESERVED_NORMAL_STATE = '__zr_normal__';\nexports.PRESERVED_NORMAL_STATE = PRESERVED_NORMAL_STATE;\n\nvar PRIMARY_STATES_KEYS = _Transformable.TRANSFORMABLE_PROPS.concat(['ignore']);\n\nvar DEFAULT_ANIMATABLE_MAP = (0, _util.reduce)(_Transformable.TRANSFORMABLE_PROPS, function (obj, key) {\n  obj[key] = true;\n  return obj;\n}, {\n  ignore: false\n});\nvar tmpTextPosCalcRes = {};\nvar tmpBoundingRect = new _BoundingRect.default(0, 0, 0, 0);\n\nvar Element = function () {\n  function Element(props) {\n    this.id = (0, _util.guid)();\n    this.animators = [];\n    this.currentStates = [];\n    this.states = {};\n\n    this._init(props);\n  }\n\n  Element.prototype._init = function (props) {\n    this.attr(props);\n  };\n\n  Element.prototype.drift = function (dx, dy, e) {\n    switch (this.draggable) {\n      case 'horizontal':\n        dy = 0;\n        break;\n\n      case 'vertical':\n        dx = 0;\n        break;\n    }\n\n    var m = this.transform;\n\n    if (!m) {\n      m = this.transform = [1, 0, 0, 1, 0, 0];\n    }\n\n    m[4] += dx;\n    m[5] += dy;\n    this.decomposeTransform();\n    this.markRedraw();\n  };\n\n  Element.prototype.beforeUpdate = function () {};\n\n  Element.prototype.afterUpdate = function () {};\n\n  Element.prototype.update = function () {\n    this.updateTransform();\n\n    if (this.__dirty) {\n      this.updateInnerText();\n    }\n  };\n\n  Element.prototype.updateInnerText = function (forceUpdate) {\n    var textEl = this._textContent;\n\n    if (textEl && (!textEl.ignore || forceUpdate)) {\n      if (!this.textConfig) {\n        this.textConfig = {};\n      }\n\n      var textConfig = this.textConfig;\n      var isLocal = textConfig.local;\n      var innerTransformable = textEl.innerTransformable;\n      var textAlign = void 0;\n      var textVerticalAlign = void 0;\n      var textStyleChanged = false;\n      innerTransformable.parent = isLocal ? this : null;\n      var innerOrigin = false;\n      innerTransformable.copyTransform(textEl);\n\n      if (textConfig.position != null) {\n        var layoutRect = tmpBoundingRect;\n\n        if (textConfig.layoutRect) {\n          layoutRect.copy(textConfig.layoutRect);\n        } else {\n          layoutRect.copy(this.getBoundingRect());\n        }\n\n        if (!isLocal) {\n          layoutRect.applyTransform(this.transform);\n        }\n\n        if (this.calculateTextPosition) {\n          this.calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n        } else {\n          (0, _text.calculateTextPosition)(tmpTextPosCalcRes, textConfig, layoutRect);\n        }\n\n        innerTransformable.x = tmpTextPosCalcRes.x;\n        innerTransformable.y = tmpTextPosCalcRes.y;\n        textAlign = tmpTextPosCalcRes.align;\n        textVerticalAlign = tmpTextPosCalcRes.verticalAlign;\n        var textOrigin = textConfig.origin;\n\n        if (textOrigin && textConfig.rotation != null) {\n          var relOriginX = void 0;\n          var relOriginY = void 0;\n\n          if (textOrigin === 'center') {\n            relOriginX = layoutRect.width * 0.5;\n            relOriginY = layoutRect.height * 0.5;\n          } else {\n            relOriginX = (0, _text.parsePercent)(textOrigin[0], layoutRect.width);\n            relOriginY = (0, _text.parsePercent)(textOrigin[1], layoutRect.height);\n          }\n\n          innerOrigin = true;\n          innerTransformable.originX = -innerTransformable.x + relOriginX + (isLocal ? 0 : layoutRect.x);\n          innerTransformable.originY = -innerTransformable.y + relOriginY + (isLocal ? 0 : layoutRect.y);\n        }\n      }\n\n      if (textConfig.rotation != null) {\n        innerTransformable.rotation = textConfig.rotation;\n      }\n\n      var textOffset = textConfig.offset;\n\n      if (textOffset) {\n        innerTransformable.x += textOffset[0];\n        innerTransformable.y += textOffset[1];\n\n        if (!innerOrigin) {\n          innerTransformable.originX = -textOffset[0];\n          innerTransformable.originY = -textOffset[1];\n        }\n      }\n\n      var isInside = textConfig.inside == null ? typeof textConfig.position === 'string' && textConfig.position.indexOf('inside') >= 0 : textConfig.inside;\n      var innerTextDefaultStyle = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});\n      var textFill = void 0;\n      var textStroke = void 0;\n      var autoStroke = void 0;\n\n      if (isInside && this.canBeInsideText()) {\n        textFill = textConfig.insideFill;\n        textStroke = textConfig.insideStroke;\n\n        if (textFill == null || textFill === 'auto') {\n          textFill = this.getInsideTextFill();\n        }\n\n        if (textStroke == null || textStroke === 'auto') {\n          textStroke = this.getInsideTextStroke(textFill);\n          autoStroke = true;\n        }\n      } else {\n        textFill = textConfig.outsideFill;\n        textStroke = textConfig.outsideStroke;\n\n        if (textFill == null || textFill === 'auto') {\n          textFill = this.getOutsideFill();\n        }\n\n        if (textStroke == null || textStroke === 'auto') {\n          textStroke = this.getOutsideStroke(textFill);\n          autoStroke = true;\n        }\n      }\n\n      textFill = textFill || '#000';\n\n      if (textFill !== innerTextDefaultStyle.fill || textStroke !== innerTextDefaultStyle.stroke || autoStroke !== innerTextDefaultStyle.autoStroke || textAlign !== innerTextDefaultStyle.align || textVerticalAlign !== innerTextDefaultStyle.verticalAlign) {\n        textStyleChanged = true;\n        innerTextDefaultStyle.fill = textFill;\n        innerTextDefaultStyle.stroke = textStroke;\n        innerTextDefaultStyle.autoStroke = autoStroke;\n        innerTextDefaultStyle.align = textAlign;\n        innerTextDefaultStyle.verticalAlign = textVerticalAlign;\n        textEl.setDefaultTextStyle(innerTextDefaultStyle);\n      }\n\n      textEl.__dirty |= _constants.REDRAW_BIT;\n\n      if (textStyleChanged) {\n        textEl.dirtyStyle(true);\n      }\n    }\n  };\n\n  Element.prototype.canBeInsideText = function () {\n    return true;\n  };\n\n  Element.prototype.getInsideTextFill = function () {\n    return '#fff';\n  };\n\n  Element.prototype.getInsideTextStroke = function (textFill) {\n    return '#000';\n  };\n\n  Element.prototype.getOutsideFill = function () {\n    return this.__zr && this.__zr.isDarkMode() ? _config.LIGHT_LABEL_COLOR : _config.DARK_LABEL_COLOR;\n  };\n\n  Element.prototype.getOutsideStroke = function (textFill) {\n    var backgroundColor = this.__zr && this.__zr.getBackgroundColor();\n\n    var colorArr = typeof backgroundColor === 'string' && (0, _color.parse)(backgroundColor);\n\n    if (!colorArr) {\n      colorArr = [255, 255, 255, 1];\n    }\n\n    var alpha = colorArr[3];\n\n    var isDark = this.__zr.isDarkMode();\n\n    for (var i = 0; i < 3; i++) {\n      colorArr[i] = colorArr[i] * alpha + (isDark ? 0 : 255) * (1 - alpha);\n    }\n\n    colorArr[3] = 1;\n    return (0, _color.stringify)(colorArr, 'rgba');\n  };\n\n  Element.prototype.traverse = function (cb, context) {};\n\n  Element.prototype.attrKV = function (key, value) {\n    if (key === 'textConfig') {\n      this.setTextConfig(value);\n    } else if (key === 'textContent') {\n      this.setTextContent(value);\n    } else if (key === 'clipPath') {\n      this.setClipPath(value);\n    } else if (key === 'extra') {\n      this.extra = this.extra || {};\n      (0, _util.extend)(this.extra, value);\n    } else {\n      this[key] = value;\n    }\n  };\n\n  Element.prototype.hide = function () {\n    this.ignore = true;\n    this.markRedraw();\n  };\n\n  Element.prototype.show = function () {\n    this.ignore = false;\n    this.markRedraw();\n  };\n\n  Element.prototype.attr = function (keyOrObj, value) {\n    if (typeof keyOrObj === 'string') {\n      this.attrKV(keyOrObj, value);\n    } else if ((0, _util.isObject)(keyOrObj)) {\n      var obj = keyOrObj;\n      var keysArr = (0, _util.keys)(obj);\n\n      for (var i = 0; i < keysArr.length; i++) {\n        var key = keysArr[i];\n        this.attrKV(key, keyOrObj[key]);\n      }\n    }\n\n    this.markRedraw();\n    return this;\n  };\n\n  Element.prototype.saveCurrentToNormalState = function (toState) {\n    this._innerSaveToNormal(toState);\n\n    var normalState = this._normalState;\n\n    for (var i = 0; i < this.animators.length; i++) {\n      var animator = this.animators[i];\n      var fromStateTransition = animator.__fromStateTransition;\n\n      if (animator.getLoop() || fromStateTransition && fromStateTransition !== PRESERVED_NORMAL_STATE) {\n        continue;\n      }\n\n      var targetName = animator.targetName;\n      var target = targetName ? normalState[targetName] : normalState;\n      animator.saveTo(target);\n    }\n  };\n\n  Element.prototype._innerSaveToNormal = function (toState) {\n    var normalState = this._normalState;\n\n    if (!normalState) {\n      normalState = this._normalState = {};\n    }\n\n    if (toState.textConfig && !normalState.textConfig) {\n      normalState.textConfig = this.textConfig;\n    }\n\n    this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n  };\n\n  Element.prototype._savePrimaryToNormal = function (toState, normalState, primaryKeys) {\n    for (var i = 0; i < primaryKeys.length; i++) {\n      var key = primaryKeys[i];\n\n      if (toState[key] != null && !(key in normalState)) {\n        normalState[key] = this[key];\n      }\n    }\n  };\n\n  Element.prototype.hasState = function () {\n    return this.currentStates.length > 0;\n  };\n\n  Element.prototype.getState = function (name) {\n    return this.states[name];\n  };\n\n  Element.prototype.ensureState = function (name) {\n    var states = this.states;\n\n    if (!states[name]) {\n      states[name] = {};\n    }\n\n    return states[name];\n  };\n\n  Element.prototype.clearStates = function (noAnimation) {\n    this.useState(PRESERVED_NORMAL_STATE, false, noAnimation);\n  };\n\n  Element.prototype.useState = function (stateName, keepCurrentStates, noAnimation, forceUseHoverLayer) {\n    var toNormalState = stateName === PRESERVED_NORMAL_STATE;\n    var hasStates = this.hasState();\n\n    if (!hasStates && toNormalState) {\n      return;\n    }\n\n    var currentStates = this.currentStates;\n    var animationCfg = this.stateTransition;\n\n    if ((0, _util.indexOf)(currentStates, stateName) >= 0 && (keepCurrentStates || currentStates.length === 1)) {\n      return;\n    }\n\n    var state;\n\n    if (this.stateProxy && !toNormalState) {\n      state = this.stateProxy(stateName);\n    }\n\n    if (!state) {\n      state = this.states && this.states[stateName];\n    }\n\n    if (!state && !toNormalState) {\n      (0, _util.logError)(\"State \" + stateName + \" not exists.\");\n      return;\n    }\n\n    if (!toNormalState) {\n      this.saveCurrentToNormalState(state);\n    }\n\n    var useHoverLayer = !!(state && state.hoverLayer || forceUseHoverLayer);\n\n    if (useHoverLayer) {\n      this._toggleHoverLayerFlag(true);\n    }\n\n    this._applyStateObj(stateName, state, this._normalState, keepCurrentStates, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n\n    var textContent = this._textContent;\n    var textGuide = this._textGuide;\n\n    if (textContent) {\n      textContent.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n    }\n\n    if (textGuide) {\n      textGuide.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n    }\n\n    if (toNormalState) {\n      this.currentStates = [];\n      this._normalState = {};\n    } else {\n      if (!keepCurrentStates) {\n        this.currentStates = [stateName];\n      } else {\n        this.currentStates.push(stateName);\n      }\n    }\n\n    this._updateAnimationTargets();\n\n    this.markRedraw();\n\n    if (!useHoverLayer && this.__inHover) {\n      this._toggleHoverLayerFlag(false);\n\n      this.__dirty &= ~_constants.REDRAW_BIT;\n    }\n\n    return state;\n  };\n\n  Element.prototype.useStates = function (states, noAnimation, forceUseHoverLayer) {\n    if (!states.length) {\n      this.clearStates();\n    } else {\n      var stateObjects = [];\n      var currentStates = this.currentStates;\n      var len = states.length;\n      var notChange = len === currentStates.length;\n\n      if (notChange) {\n        for (var i = 0; i < len; i++) {\n          if (states[i] !== currentStates[i]) {\n            notChange = false;\n            break;\n          }\n        }\n      }\n\n      if (notChange) {\n        return;\n      }\n\n      for (var i = 0; i < len; i++) {\n        var stateName = states[i];\n        var stateObj = void 0;\n\n        if (this.stateProxy) {\n          stateObj = this.stateProxy(stateName, states);\n        }\n\n        if (!stateObj) {\n          stateObj = this.states[stateName];\n        }\n\n        if (stateObj) {\n          stateObjects.push(stateObj);\n        }\n      }\n\n      var lastStateObj = stateObjects[len - 1];\n      var useHoverLayer = !!(lastStateObj && lastStateObj.hoverLayer || forceUseHoverLayer);\n\n      if (useHoverLayer) {\n        this._toggleHoverLayerFlag(true);\n      }\n\n      var mergedState = this._mergeStates(stateObjects);\n\n      var animationCfg = this.stateTransition;\n      this.saveCurrentToNormalState(mergedState);\n\n      this._applyStateObj(states.join(','), mergedState, this._normalState, false, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n\n      var textContent = this._textContent;\n      var textGuide = this._textGuide;\n\n      if (textContent) {\n        textContent.useStates(states, noAnimation, useHoverLayer);\n      }\n\n      if (textGuide) {\n        textGuide.useStates(states, noAnimation, useHoverLayer);\n      }\n\n      this._updateAnimationTargets();\n\n      this.currentStates = states.slice();\n      this.markRedraw();\n\n      if (!useHoverLayer && this.__inHover) {\n        this._toggleHoverLayerFlag(false);\n\n        this.__dirty &= ~_constants.REDRAW_BIT;\n      }\n    }\n  };\n\n  Element.prototype._updateAnimationTargets = function () {\n    for (var i = 0; i < this.animators.length; i++) {\n      var animator = this.animators[i];\n\n      if (animator.targetName) {\n        animator.changeTarget(this[animator.targetName]);\n      }\n    }\n  };\n\n  Element.prototype.removeState = function (state) {\n    var idx = (0, _util.indexOf)(this.currentStates, state);\n\n    if (idx >= 0) {\n      var currentStates = this.currentStates.slice();\n      currentStates.splice(idx, 1);\n      this.useStates(currentStates);\n    }\n  };\n\n  Element.prototype.replaceState = function (oldState, newState, forceAdd) {\n    var currentStates = this.currentStates.slice();\n    var idx = (0, _util.indexOf)(currentStates, oldState);\n    var newStateExists = (0, _util.indexOf)(currentStates, newState) >= 0;\n\n    if (idx >= 0) {\n      if (!newStateExists) {\n        currentStates[idx] = newState;\n      } else {\n        currentStates.splice(idx, 1);\n      }\n    } else if (forceAdd && !newStateExists) {\n      currentStates.push(newState);\n    }\n\n    this.useStates(currentStates);\n  };\n\n  Element.prototype.toggleState = function (state, enable) {\n    if (enable) {\n      this.useState(state, true);\n    } else {\n      this.removeState(state);\n    }\n  };\n\n  Element.prototype._mergeStates = function (states) {\n    var mergedState = {};\n    var mergedTextConfig;\n\n    for (var i = 0; i < states.length; i++) {\n      var state = states[i];\n      (0, _util.extend)(mergedState, state);\n\n      if (state.textConfig) {\n        mergedTextConfig = mergedTextConfig || {};\n        (0, _util.extend)(mergedTextConfig, state.textConfig);\n      }\n    }\n\n    if (mergedTextConfig) {\n      mergedState.textConfig = mergedTextConfig;\n    }\n\n    return mergedState;\n  };\n\n  Element.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n    var needsRestoreToNormal = !(state && keepCurrentStates);\n\n    if (state && state.textConfig) {\n      this.textConfig = (0, _util.extend)({}, keepCurrentStates ? this.textConfig : normalState.textConfig);\n      (0, _util.extend)(this.textConfig, state.textConfig);\n    } else if (needsRestoreToNormal) {\n      if (normalState.textConfig) {\n        this.textConfig = normalState.textConfig;\n      }\n    }\n\n    var transitionTarget = {};\n    var hasTransition = false;\n\n    for (var i = 0; i < PRIMARY_STATES_KEYS.length; i++) {\n      var key = PRIMARY_STATES_KEYS[i];\n      var propNeedsTransition = transition && DEFAULT_ANIMATABLE_MAP[key];\n\n      if (state && state[key] != null) {\n        if (propNeedsTransition) {\n          hasTransition = true;\n          transitionTarget[key] = state[key];\n        } else {\n          this[key] = state[key];\n        }\n      } else if (needsRestoreToNormal) {\n        if (normalState[key] != null) {\n          if (propNeedsTransition) {\n            hasTransition = true;\n            transitionTarget[key] = normalState[key];\n          } else {\n            this[key] = normalState[key];\n          }\n        }\n      }\n    }\n\n    if (!transition) {\n      for (var i = 0; i < this.animators.length; i++) {\n        var animator = this.animators[i];\n        var targetName = animator.targetName;\n\n        if (!animator.getLoop()) {\n          animator.__changeFinalValue(targetName ? (state || normalState)[targetName] : state || normalState);\n        }\n      }\n    }\n\n    if (hasTransition) {\n      this._transitionState(stateName, transitionTarget, animationCfg);\n    }\n  };\n\n  Element.prototype._attachComponent = function (componentEl) {\n    if (componentEl.__zr && !componentEl.__hostTarget) {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error('Text element has been added to zrender.');\n      }\n\n      return;\n    }\n\n    if (componentEl === this) {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error('Recursive component attachment.');\n      }\n\n      return;\n    }\n\n    var zr = this.__zr;\n\n    if (zr) {\n      componentEl.addSelfToZr(zr);\n    }\n\n    componentEl.__zr = zr;\n    componentEl.__hostTarget = this;\n  };\n\n  Element.prototype._detachComponent = function (componentEl) {\n    if (componentEl.__zr) {\n      componentEl.removeSelfFromZr(componentEl.__zr);\n    }\n\n    componentEl.__zr = null;\n    componentEl.__hostTarget = null;\n  };\n\n  Element.prototype.getClipPath = function () {\n    return this._clipPath;\n  };\n\n  Element.prototype.setClipPath = function (clipPath) {\n    if (this._clipPath && this._clipPath !== clipPath) {\n      this.removeClipPath();\n    }\n\n    this._attachComponent(clipPath);\n\n    this._clipPath = clipPath;\n    this.markRedraw();\n  };\n\n  Element.prototype.removeClipPath = function () {\n    var clipPath = this._clipPath;\n\n    if (clipPath) {\n      this._detachComponent(clipPath);\n\n      this._clipPath = null;\n      this.markRedraw();\n    }\n  };\n\n  Element.prototype.getTextContent = function () {\n    return this._textContent;\n  };\n\n  Element.prototype.setTextContent = function (textEl) {\n    var previousTextContent = this._textContent;\n\n    if (previousTextContent === textEl) {\n      return;\n    }\n\n    if (previousTextContent && previousTextContent !== textEl) {\n      this.removeTextContent();\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (textEl.__zr && !textEl.__hostTarget) {\n        throw new Error('Text element has been added to zrender.');\n      }\n    }\n\n    textEl.innerTransformable = new _Transformable.default();\n\n    this._attachComponent(textEl);\n\n    this._textContent = textEl;\n    this.markRedraw();\n  };\n\n  Element.prototype.setTextConfig = function (cfg) {\n    if (!this.textConfig) {\n      this.textConfig = {};\n    }\n\n    (0, _util.extend)(this.textConfig, cfg);\n    this.markRedraw();\n  };\n\n  Element.prototype.removeTextConfig = function () {\n    this.textConfig = null;\n    this.markRedraw();\n  };\n\n  Element.prototype.removeTextContent = function () {\n    var textEl = this._textContent;\n\n    if (textEl) {\n      textEl.innerTransformable = null;\n\n      this._detachComponent(textEl);\n\n      this._textContent = null;\n      this._innerTextDefaultStyle = null;\n      this.markRedraw();\n    }\n  };\n\n  Element.prototype.getTextGuideLine = function () {\n    return this._textGuide;\n  };\n\n  Element.prototype.setTextGuideLine = function (guideLine) {\n    if (this._textGuide && this._textGuide !== guideLine) {\n      this.removeTextGuideLine();\n    }\n\n    this._attachComponent(guideLine);\n\n    this._textGuide = guideLine;\n    this.markRedraw();\n  };\n\n  Element.prototype.removeTextGuideLine = function () {\n    var textGuide = this._textGuide;\n\n    if (textGuide) {\n      this._detachComponent(textGuide);\n\n      this._textGuide = null;\n      this.markRedraw();\n    }\n  };\n\n  Element.prototype.markRedraw = function () {\n    this.__dirty |= _constants.REDRAW_BIT;\n    var zr = this.__zr;\n\n    if (zr) {\n      if (this.__inHover) {\n        zr.refreshHover();\n      } else {\n        zr.refresh();\n      }\n    }\n\n    if (this.__hostTarget) {\n      this.__hostTarget.markRedraw();\n    }\n  };\n\n  Element.prototype.dirty = function () {\n    this.markRedraw();\n  };\n\n  Element.prototype._toggleHoverLayerFlag = function (inHover) {\n    this.__inHover = inHover;\n    var textContent = this._textContent;\n    var textGuide = this._textGuide;\n\n    if (textContent) {\n      textContent.__inHover = inHover;\n    }\n\n    if (textGuide) {\n      textGuide.__inHover = inHover;\n    }\n  };\n\n  Element.prototype.addSelfToZr = function (zr) {\n    if (this.__zr === zr) {\n      return;\n    }\n\n    this.__zr = zr;\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.addAnimator(animators[i]);\n      }\n    }\n\n    if (this._clipPath) {\n      this._clipPath.addSelfToZr(zr);\n    }\n\n    if (this._textContent) {\n      this._textContent.addSelfToZr(zr);\n    }\n\n    if (this._textGuide) {\n      this._textGuide.addSelfToZr(zr);\n    }\n  };\n\n  Element.prototype.removeSelfFromZr = function (zr) {\n    if (!this.__zr) {\n      return;\n    }\n\n    this.__zr = null;\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.removeAnimator(animators[i]);\n      }\n    }\n\n    if (this._clipPath) {\n      this._clipPath.removeSelfFromZr(zr);\n    }\n\n    if (this._textContent) {\n      this._textContent.removeSelfFromZr(zr);\n    }\n\n    if (this._textGuide) {\n      this._textGuide.removeSelfFromZr(zr);\n    }\n  };\n\n  Element.prototype.animate = function (key, loop, allowDiscreteAnimation) {\n    var target = key ? this[key] : this;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!target) {\n        (0, _util.logError)('Property \"' + key + '\" is not existed in element ' + this.id);\n        return;\n      }\n    }\n\n    var animator = new _Animator.default(target, loop, allowDiscreteAnimation);\n    key && (animator.targetName = key);\n    this.addAnimator(animator, key);\n    return animator;\n  };\n\n  Element.prototype.addAnimator = function (animator, key) {\n    var zr = this.__zr;\n    var el = this;\n    animator.during(function () {\n      el.updateDuringAnimation(key);\n    }).done(function () {\n      var animators = el.animators;\n      var idx = (0, _util.indexOf)(animators, animator);\n\n      if (idx >= 0) {\n        animators.splice(idx, 1);\n      }\n    });\n    this.animators.push(animator);\n\n    if (zr) {\n      zr.animation.addAnimator(animator);\n    }\n\n    zr && zr.wakeUp();\n  };\n\n  Element.prototype.updateDuringAnimation = function (key) {\n    this.markRedraw();\n  };\n\n  Element.prototype.stopAnimation = function (scope, forwardToLast) {\n    var animators = this.animators;\n    var len = animators.length;\n    var leftAnimators = [];\n\n    for (var i = 0; i < len; i++) {\n      var animator = animators[i];\n\n      if (!scope || scope === animator.scope) {\n        animator.stop(forwardToLast);\n      } else {\n        leftAnimators.push(animator);\n      }\n    }\n\n    this.animators = leftAnimators;\n    return this;\n  };\n\n  Element.prototype.animateTo = function (target, cfg, animationProps) {\n    animateTo(this, target, cfg, animationProps);\n  };\n\n  Element.prototype.animateFrom = function (target, cfg, animationProps) {\n    animateTo(this, target, cfg, animationProps, true);\n  };\n\n  Element.prototype._transitionState = function (stateName, target, cfg, animationProps) {\n    var animators = animateTo(this, target, cfg, animationProps);\n\n    for (var i = 0; i < animators.length; i++) {\n      animators[i].__fromStateTransition = stateName;\n    }\n  };\n\n  Element.prototype.getBoundingRect = function () {\n    return null;\n  };\n\n  Element.prototype.getPaintRect = function () {\n    return null;\n  };\n\n  Element.initDefaultProps = function () {\n    var elProto = Element.prototype;\n    elProto.type = 'element';\n    elProto.name = '';\n    elProto.ignore = elProto.silent = elProto.isGroup = elProto.draggable = elProto.dragging = elProto.ignoreClip = elProto.__inHover = false;\n    elProto.__dirty = _constants.REDRAW_BIT;\n    var logs = {};\n\n    function logDeprecatedError(key, xKey, yKey) {\n      if (!logs[key + xKey + yKey]) {\n        console.warn(\"DEPRECATED: '\" + key + \"' has been deprecated. use '\" + xKey + \"', '\" + yKey + \"' instead\");\n        logs[key + xKey + yKey] = true;\n      }\n    }\n\n    function createLegacyProperty(key, privateKey, xKey, yKey) {\n      Object.defineProperty(elProto, key, {\n        get: function () {\n          if (process.env.NODE_ENV !== 'production') {\n            logDeprecatedError(key, xKey, yKey);\n          }\n\n          if (!this[privateKey]) {\n            var pos = this[privateKey] = [];\n            enhanceArray(this, pos);\n          }\n\n          return this[privateKey];\n        },\n        set: function (pos) {\n          if (process.env.NODE_ENV !== 'production') {\n            logDeprecatedError(key, xKey, yKey);\n          }\n\n          this[xKey] = pos[0];\n          this[yKey] = pos[1];\n          this[privateKey] = pos;\n          enhanceArray(this, pos);\n        }\n      });\n\n      function enhanceArray(self, pos) {\n        Object.defineProperty(pos, 0, {\n          get: function () {\n            return self[xKey];\n          },\n          set: function (val) {\n            self[xKey] = val;\n          }\n        });\n        Object.defineProperty(pos, 1, {\n          get: function () {\n            return self[yKey];\n          },\n          set: function (val) {\n            self[yKey] = val;\n          }\n        });\n      }\n    }\n\n    if (Object.defineProperty) {\n      createLegacyProperty('position', '_legacyPos', 'x', 'y');\n      createLegacyProperty('scale', '_legacyScale', 'scaleX', 'scaleY');\n      createLegacyProperty('origin', '_legacyOrigin', 'originX', 'originY');\n    }\n  }();\n\n  return Element;\n}();\n\n(0, _util.mixin)(Element, _Eventful.default);\n(0, _util.mixin)(Element, _Transformable.default);\n\nfunction animateTo(animatable, target, cfg, animationProps, reverse) {\n  cfg = cfg || {};\n  var animators = [];\n  animateToShallow(animatable, '', animatable, target, cfg, animationProps, animators, reverse);\n  var finishCount = animators.length;\n  var doneHappened = false;\n  var cfgDone = cfg.done;\n  var cfgAborted = cfg.aborted;\n\n  var doneCb = function () {\n    doneHappened = true;\n    finishCount--;\n\n    if (finishCount <= 0) {\n      doneHappened ? cfgDone && cfgDone() : cfgAborted && cfgAborted();\n    }\n  };\n\n  var abortedCb = function () {\n    finishCount--;\n\n    if (finishCount <= 0) {\n      doneHappened ? cfgDone && cfgDone() : cfgAborted && cfgAborted();\n    }\n  };\n\n  if (!finishCount) {\n    cfgDone && cfgDone();\n  }\n\n  if (animators.length > 0 && cfg.during) {\n    animators[0].during(function (target, percent) {\n      cfg.during(percent);\n    });\n  }\n\n  for (var i = 0; i < animators.length; i++) {\n    var animator = animators[i];\n\n    if (doneCb) {\n      animator.done(doneCb);\n    }\n\n    if (abortedCb) {\n      animator.aborted(abortedCb);\n    }\n\n    if (cfg.force) {\n      animator.duration(cfg.duration);\n    }\n\n    animator.start(cfg.easing);\n  }\n\n  return animators;\n}\n\nfunction copyArrShallow(source, target, len) {\n  for (var i = 0; i < len; i++) {\n    source[i] = target[i];\n  }\n}\n\nfunction is2DArray(value) {\n  return (0, _util.isArrayLike)(value[0]);\n}\n\nfunction copyValue(target, source, key) {\n  if ((0, _util.isArrayLike)(source[key])) {\n    if (!(0, _util.isArrayLike)(target[key])) {\n      target[key] = [];\n    }\n\n    if ((0, _util.isTypedArray)(source[key])) {\n      var len = source[key].length;\n\n      if (target[key].length !== len) {\n        target[key] = new source[key].constructor(len);\n        copyArrShallow(target[key], source[key], len);\n      }\n    } else {\n      var sourceArr = source[key];\n      var targetArr = target[key];\n      var len0 = sourceArr.length;\n\n      if (is2DArray(sourceArr)) {\n        var len1 = sourceArr[0].length;\n\n        for (var i = 0; i < len0; i++) {\n          if (!targetArr[i]) {\n            targetArr[i] = Array.prototype.slice.call(sourceArr[i]);\n          } else {\n            copyArrShallow(targetArr[i], sourceArr[i], len1);\n          }\n        }\n      } else {\n        copyArrShallow(targetArr, sourceArr, len0);\n      }\n\n      targetArr.length = sourceArr.length;\n    }\n  } else {\n    target[key] = source[key];\n  }\n}\n\nfunction isValueSame(val1, val2) {\n  return val1 === val2 || (0, _util.isArrayLike)(val1) && (0, _util.isArrayLike)(val2) && is1DArraySame(val1, val2);\n}\n\nfunction is1DArraySame(arr0, arr1) {\n  var len = arr0.length;\n\n  if (len !== arr1.length) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (arr0[i] !== arr1[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction animateToShallow(animatable, topKey, animateObj, target, cfg, animationProps, animators, reverse) {\n  var targetKeys = (0, _util.keys)(target);\n  var duration = cfg.duration;\n  var delay = cfg.delay;\n  var additive = cfg.additive;\n  var setToFinal = cfg.setToFinal;\n  var animateAll = !(0, _util.isObject)(animationProps);\n  var existsAnimators = animatable.animators;\n  var animationKeys = [];\n\n  for (var k = 0; k < targetKeys.length; k++) {\n    var innerKey = targetKeys[k];\n    var targetVal = target[innerKey];\n\n    if (targetVal != null && animateObj[innerKey] != null && (animateAll || animationProps[innerKey])) {\n      if ((0, _util.isObject)(targetVal) && !(0, _util.isArrayLike)(targetVal) && !(0, _util.isGradientObject)(targetVal)) {\n        if (topKey) {\n          if (!reverse) {\n            animateObj[innerKey] = targetVal;\n            animatable.updateDuringAnimation(topKey);\n          }\n\n          continue;\n        }\n\n        animateToShallow(animatable, innerKey, animateObj[innerKey], targetVal, cfg, animationProps && animationProps[innerKey], animators, reverse);\n      } else {\n        animationKeys.push(innerKey);\n      }\n    } else if (!reverse) {\n      animateObj[innerKey] = targetVal;\n      animatable.updateDuringAnimation(topKey);\n      animationKeys.push(innerKey);\n    }\n  }\n\n  var keyLen = animationKeys.length;\n\n  if (!additive && keyLen) {\n    for (var i = 0; i < existsAnimators.length; i++) {\n      var animator = existsAnimators[i];\n\n      if (animator.targetName === topKey) {\n        var allAborted = animator.stopTracks(animationKeys);\n\n        if (allAborted) {\n          var idx = (0, _util.indexOf)(existsAnimators, animator);\n          existsAnimators.splice(idx, 1);\n        }\n      }\n    }\n  }\n\n  if (!cfg.force) {\n    animationKeys = (0, _util.filter)(animationKeys, function (key) {\n      return !isValueSame(target[key], animateObj[key]);\n    });\n    keyLen = animationKeys.length;\n  }\n\n  if (keyLen > 0 || cfg.force && !animators.length) {\n    var revertedSource = void 0;\n    var reversedTarget = void 0;\n    var sourceClone = void 0;\n\n    if (reverse) {\n      reversedTarget = {};\n\n      if (setToFinal) {\n        revertedSource = {};\n      }\n\n      for (var i = 0; i < keyLen; i++) {\n        var innerKey = animationKeys[i];\n        reversedTarget[innerKey] = animateObj[innerKey];\n\n        if (setToFinal) {\n          revertedSource[innerKey] = target[innerKey];\n        } else {\n          animateObj[innerKey] = target[innerKey];\n        }\n      }\n    } else if (setToFinal) {\n      sourceClone = {};\n\n      for (var i = 0; i < keyLen; i++) {\n        var innerKey = animationKeys[i];\n        sourceClone[innerKey] = (0, _Animator.cloneValue)(animateObj[innerKey]);\n        copyValue(animateObj, target, innerKey);\n      }\n    }\n\n    var animator = new _Animator.default(animateObj, false, false, additive ? (0, _util.filter)(existsAnimators, function (animator) {\n      return animator.targetName === topKey;\n    }) : null);\n    animator.targetName = topKey;\n\n    if (cfg.scope) {\n      animator.scope = cfg.scope;\n    }\n\n    if (setToFinal && revertedSource) {\n      animator.whenWithKeys(0, revertedSource, animationKeys);\n    }\n\n    if (sourceClone) {\n      animator.whenWithKeys(0, sourceClone, animationKeys);\n    }\n\n    animator.whenWithKeys(duration == null ? 500 : duration, reverse ? reversedTarget : target, animationKeys).delay(delay || 0);\n    animatable.addAnimator(animator, topKey);\n    animators.push(animator);\n  }\n}\n\nvar _default = Element;\nexports.default = _default;","map":{"version":3,"names":["PRESERVED_NORMAL_STATE","PRIMARY_STATES_KEYS","TRANSFORMABLE_PROPS","concat","DEFAULT_ANIMATABLE_MAP","reduce","obj","key","ignore","tmpTextPosCalcRes","tmpBoundingRect","BoundingRect","Element","props","id","guid","animators","currentStates","states","_init","prototype","attr","drift","dx","dy","e","draggable","m","transform","decomposeTransform","markRedraw","beforeUpdate","afterUpdate","update","updateTransform","__dirty","updateInnerText","forceUpdate","textEl","_textContent","textConfig","isLocal","local","innerTransformable","textAlign","textVerticalAlign","textStyleChanged","parent","innerOrigin","copyTransform","position","layoutRect","copy","getBoundingRect","applyTransform","calculateTextPosition","x","y","align","verticalAlign","textOrigin","origin","rotation","relOriginX","relOriginY","width","height","parsePercent","originX","originY","textOffset","offset","isInside","inside","indexOf","innerTextDefaultStyle","_innerTextDefaultStyle","textFill","textStroke","autoStroke","canBeInsideText","insideFill","insideStroke","getInsideTextFill","getInsideTextStroke","outsideFill","outsideStroke","getOutsideFill","getOutsideStroke","fill","stroke","setDefaultTextStyle","REDRAW_BIT","dirtyStyle","__zr","isDarkMode","LIGHT_LABEL_COLOR","DARK_LABEL_COLOR","backgroundColor","getBackgroundColor","colorArr","parse","alpha","isDark","i","stringify","traverse","cb","context","attrKV","value","setTextConfig","setTextContent","setClipPath","extra","extend","hide","show","keyOrObj","isObject","keysArr","keys","length","saveCurrentToNormalState","toState","_innerSaveToNormal","normalState","_normalState","animator","fromStateTransition","__fromStateTransition","getLoop","targetName","target","saveTo","_savePrimaryToNormal","primaryKeys","hasState","getState","name","ensureState","clearStates","noAnimation","useState","stateName","keepCurrentStates","forceUseHoverLayer","toNormalState","hasStates","animationCfg","stateTransition","state","stateProxy","logError","useHoverLayer","hoverLayer","_toggleHoverLayerFlag","_applyStateObj","__inHover","duration","textContent","textGuide","_textGuide","push","_updateAnimationTargets","useStates","stateObjects","len","notChange","stateObj","lastStateObj","mergedState","_mergeStates","join","slice","changeTarget","removeState","idx","splice","replaceState","oldState","newState","forceAdd","newStateExists","toggleState","enable","mergedTextConfig","transition","needsRestoreToNormal","transitionTarget","hasTransition","propNeedsTransition","__changeFinalValue","_transitionState","_attachComponent","componentEl","__hostTarget","process","env","NODE_ENV","Error","zr","addSelfToZr","_detachComponent","removeSelfFromZr","getClipPath","_clipPath","clipPath","removeClipPath","getTextContent","previousTextContent","removeTextContent","Transformable","cfg","removeTextConfig","getTextGuideLine","setTextGuideLine","guideLine","removeTextGuideLine","refreshHover","refresh","dirty","inHover","animation","addAnimator","removeAnimator","animate","loop","allowDiscreteAnimation","Animator","el","during","updateDuringAnimation","done","wakeUp","stopAnimation","scope","forwardToLast","leftAnimators","stop","animateTo","animationProps","animateFrom","getPaintRect","initDefaultProps","elProto","type","silent","isGroup","dragging","ignoreClip","logs","logDeprecatedError","xKey","yKey","console","warn","createLegacyProperty","privateKey","Object","defineProperty","get","pos","enhanceArray","set","self","val","mixin","Eventful","animatable","reverse","animateToShallow","finishCount","doneHappened","cfgDone","cfgAborted","aborted","doneCb","abortedCb","percent","force","start","easing","copyArrShallow","source","is2DArray","isArrayLike","copyValue","isTypedArray","constructor","sourceArr","targetArr","len0","len1","Array","call","isValueSame","val1","val2","is1DArraySame","arr0","arr1","topKey","animateObj","targetKeys","delay","additive","setToFinal","animateAll","existsAnimators","animationKeys","k","innerKey","targetVal","isGradientObject","keyLen","allAborted","stopTracks","filter","revertedSource","reversedTarget","sourceClone","cloneValue","whenWithKeys"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/zrender/lib/Element.js"],"sourcesContent":["import Transformable, { TRANSFORMABLE_PROPS } from './core/Transformable.js';\nimport Animator, { cloneValue } from './animation/Animator.js';\nimport BoundingRect from './core/BoundingRect.js';\nimport Eventful from './core/Eventful.js';\nimport { calculateTextPosition, parsePercent } from './contain/text.js';\nimport { guid, isObject, keys, extend, indexOf, logError, mixin, isArrayLike, isTypedArray, isGradientObject, filter, reduce } from './core/util.js';\nimport { LIGHT_LABEL_COLOR, DARK_LABEL_COLOR } from './config.js';\nimport { parse, stringify } from './tool/color.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nexport var PRESERVED_NORMAL_STATE = '__zr_normal__';\nvar PRIMARY_STATES_KEYS = TRANSFORMABLE_PROPS.concat(['ignore']);\nvar DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n    obj[key] = true;\n    return obj;\n}, { ignore: false });\nvar tmpTextPosCalcRes = {};\nvar tmpBoundingRect = new BoundingRect(0, 0, 0, 0);\nvar Element = (function () {\n    function Element(props) {\n        this.id = guid();\n        this.animators = [];\n        this.currentStates = [];\n        this.states = {};\n        this._init(props);\n    }\n    Element.prototype._init = function (props) {\n        this.attr(props);\n    };\n    Element.prototype.drift = function (dx, dy, e) {\n        switch (this.draggable) {\n            case 'horizontal':\n                dy = 0;\n                break;\n            case 'vertical':\n                dx = 0;\n                break;\n        }\n        var m = this.transform;\n        if (!m) {\n            m = this.transform = [1, 0, 0, 1, 0, 0];\n        }\n        m[4] += dx;\n        m[5] += dy;\n        this.decomposeTransform();\n        this.markRedraw();\n    };\n    Element.prototype.beforeUpdate = function () { };\n    Element.prototype.afterUpdate = function () { };\n    Element.prototype.update = function () {\n        this.updateTransform();\n        if (this.__dirty) {\n            this.updateInnerText();\n        }\n    };\n    Element.prototype.updateInnerText = function (forceUpdate) {\n        var textEl = this._textContent;\n        if (textEl && (!textEl.ignore || forceUpdate)) {\n            if (!this.textConfig) {\n                this.textConfig = {};\n            }\n            var textConfig = this.textConfig;\n            var isLocal = textConfig.local;\n            var innerTransformable = textEl.innerTransformable;\n            var textAlign = void 0;\n            var textVerticalAlign = void 0;\n            var textStyleChanged = false;\n            innerTransformable.parent = isLocal ? this : null;\n            var innerOrigin = false;\n            innerTransformable.copyTransform(textEl);\n            if (textConfig.position != null) {\n                var layoutRect = tmpBoundingRect;\n                if (textConfig.layoutRect) {\n                    layoutRect.copy(textConfig.layoutRect);\n                }\n                else {\n                    layoutRect.copy(this.getBoundingRect());\n                }\n                if (!isLocal) {\n                    layoutRect.applyTransform(this.transform);\n                }\n                if (this.calculateTextPosition) {\n                    this.calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                else {\n                    calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);\n                }\n                innerTransformable.x = tmpTextPosCalcRes.x;\n                innerTransformable.y = tmpTextPosCalcRes.y;\n                textAlign = tmpTextPosCalcRes.align;\n                textVerticalAlign = tmpTextPosCalcRes.verticalAlign;\n                var textOrigin = textConfig.origin;\n                if (textOrigin && textConfig.rotation != null) {\n                    var relOriginX = void 0;\n                    var relOriginY = void 0;\n                    if (textOrigin === 'center') {\n                        relOriginX = layoutRect.width * 0.5;\n                        relOriginY = layoutRect.height * 0.5;\n                    }\n                    else {\n                        relOriginX = parsePercent(textOrigin[0], layoutRect.width);\n                        relOriginY = parsePercent(textOrigin[1], layoutRect.height);\n                    }\n                    innerOrigin = true;\n                    innerTransformable.originX = -innerTransformable.x + relOriginX + (isLocal ? 0 : layoutRect.x);\n                    innerTransformable.originY = -innerTransformable.y + relOriginY + (isLocal ? 0 : layoutRect.y);\n                }\n            }\n            if (textConfig.rotation != null) {\n                innerTransformable.rotation = textConfig.rotation;\n            }\n            var textOffset = textConfig.offset;\n            if (textOffset) {\n                innerTransformable.x += textOffset[0];\n                innerTransformable.y += textOffset[1];\n                if (!innerOrigin) {\n                    innerTransformable.originX = -textOffset[0];\n                    innerTransformable.originY = -textOffset[1];\n                }\n            }\n            var isInside = textConfig.inside == null\n                ? (typeof textConfig.position === 'string' && textConfig.position.indexOf('inside') >= 0)\n                : textConfig.inside;\n            var innerTextDefaultStyle = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});\n            var textFill = void 0;\n            var textStroke = void 0;\n            var autoStroke = void 0;\n            if (isInside && this.canBeInsideText()) {\n                textFill = textConfig.insideFill;\n                textStroke = textConfig.insideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getInsideTextFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getInsideTextStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            else {\n                textFill = textConfig.outsideFill;\n                textStroke = textConfig.outsideStroke;\n                if (textFill == null || textFill === 'auto') {\n                    textFill = this.getOutsideFill();\n                }\n                if (textStroke == null || textStroke === 'auto') {\n                    textStroke = this.getOutsideStroke(textFill);\n                    autoStroke = true;\n                }\n            }\n            textFill = textFill || '#000';\n            if (textFill !== innerTextDefaultStyle.fill\n                || textStroke !== innerTextDefaultStyle.stroke\n                || autoStroke !== innerTextDefaultStyle.autoStroke\n                || textAlign !== innerTextDefaultStyle.align\n                || textVerticalAlign !== innerTextDefaultStyle.verticalAlign) {\n                textStyleChanged = true;\n                innerTextDefaultStyle.fill = textFill;\n                innerTextDefaultStyle.stroke = textStroke;\n                innerTextDefaultStyle.autoStroke = autoStroke;\n                innerTextDefaultStyle.align = textAlign;\n                innerTextDefaultStyle.verticalAlign = textVerticalAlign;\n                textEl.setDefaultTextStyle(innerTextDefaultStyle);\n            }\n            textEl.__dirty |= REDRAW_BIT;\n            if (textStyleChanged) {\n                textEl.dirtyStyle(true);\n            }\n        }\n    };\n    Element.prototype.canBeInsideText = function () {\n        return true;\n    };\n    Element.prototype.getInsideTextFill = function () {\n        return '#fff';\n    };\n    Element.prototype.getInsideTextStroke = function (textFill) {\n        return '#000';\n    };\n    Element.prototype.getOutsideFill = function () {\n        return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;\n    };\n    Element.prototype.getOutsideStroke = function (textFill) {\n        var backgroundColor = this.__zr && this.__zr.getBackgroundColor();\n        var colorArr = typeof backgroundColor === 'string' && parse(backgroundColor);\n        if (!colorArr) {\n            colorArr = [255, 255, 255, 1];\n        }\n        var alpha = colorArr[3];\n        var isDark = this.__zr.isDarkMode();\n        for (var i = 0; i < 3; i++) {\n            colorArr[i] = colorArr[i] * alpha + (isDark ? 0 : 255) * (1 - alpha);\n        }\n        colorArr[3] = 1;\n        return stringify(colorArr, 'rgba');\n    };\n    Element.prototype.traverse = function (cb, context) { };\n    Element.prototype.attrKV = function (key, value) {\n        if (key === 'textConfig') {\n            this.setTextConfig(value);\n        }\n        else if (key === 'textContent') {\n            this.setTextContent(value);\n        }\n        else if (key === 'clipPath') {\n            this.setClipPath(value);\n        }\n        else if (key === 'extra') {\n            this.extra = this.extra || {};\n            extend(this.extra, value);\n        }\n        else {\n            this[key] = value;\n        }\n    };\n    Element.prototype.hide = function () {\n        this.ignore = true;\n        this.markRedraw();\n    };\n    Element.prototype.show = function () {\n        this.ignore = false;\n        this.markRedraw();\n    };\n    Element.prototype.attr = function (keyOrObj, value) {\n        if (typeof keyOrObj === 'string') {\n            this.attrKV(keyOrObj, value);\n        }\n        else if (isObject(keyOrObj)) {\n            var obj = keyOrObj;\n            var keysArr = keys(obj);\n            for (var i = 0; i < keysArr.length; i++) {\n                var key = keysArr[i];\n                this.attrKV(key, keyOrObj[key]);\n            }\n        }\n        this.markRedraw();\n        return this;\n    };\n    Element.prototype.saveCurrentToNormalState = function (toState) {\n        this._innerSaveToNormal(toState);\n        var normalState = this._normalState;\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            var fromStateTransition = animator.__fromStateTransition;\n            if (animator.getLoop() || fromStateTransition && fromStateTransition !== PRESERVED_NORMAL_STATE) {\n                continue;\n            }\n            var targetName = animator.targetName;\n            var target = targetName\n                ? normalState[targetName] : normalState;\n            animator.saveTo(target);\n        }\n    };\n    Element.prototype._innerSaveToNormal = function (toState) {\n        var normalState = this._normalState;\n        if (!normalState) {\n            normalState = this._normalState = {};\n        }\n        if (toState.textConfig && !normalState.textConfig) {\n            normalState.textConfig = this.textConfig;\n        }\n        this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);\n    };\n    Element.prototype._savePrimaryToNormal = function (toState, normalState, primaryKeys) {\n        for (var i = 0; i < primaryKeys.length; i++) {\n            var key = primaryKeys[i];\n            if (toState[key] != null && !(key in normalState)) {\n                normalState[key] = this[key];\n            }\n        }\n    };\n    Element.prototype.hasState = function () {\n        return this.currentStates.length > 0;\n    };\n    Element.prototype.getState = function (name) {\n        return this.states[name];\n    };\n    Element.prototype.ensureState = function (name) {\n        var states = this.states;\n        if (!states[name]) {\n            states[name] = {};\n        }\n        return states[name];\n    };\n    Element.prototype.clearStates = function (noAnimation) {\n        this.useState(PRESERVED_NORMAL_STATE, false, noAnimation);\n    };\n    Element.prototype.useState = function (stateName, keepCurrentStates, noAnimation, forceUseHoverLayer) {\n        var toNormalState = stateName === PRESERVED_NORMAL_STATE;\n        var hasStates = this.hasState();\n        if (!hasStates && toNormalState) {\n            return;\n        }\n        var currentStates = this.currentStates;\n        var animationCfg = this.stateTransition;\n        if (indexOf(currentStates, stateName) >= 0 && (keepCurrentStates || currentStates.length === 1)) {\n            return;\n        }\n        var state;\n        if (this.stateProxy && !toNormalState) {\n            state = this.stateProxy(stateName);\n        }\n        if (!state) {\n            state = (this.states && this.states[stateName]);\n        }\n        if (!state && !toNormalState) {\n            logError(\"State \" + stateName + \" not exists.\");\n            return;\n        }\n        if (!toNormalState) {\n            this.saveCurrentToNormalState(state);\n        }\n        var useHoverLayer = !!((state && state.hoverLayer) || forceUseHoverLayer);\n        if (useHoverLayer) {\n            this._toggleHoverLayerFlag(true);\n        }\n        this._applyStateObj(stateName, state, this._normalState, keepCurrentStates, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (textGuide) {\n            textGuide.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);\n        }\n        if (toNormalState) {\n            this.currentStates = [];\n            this._normalState = {};\n        }\n        else {\n            if (!keepCurrentStates) {\n                this.currentStates = [stateName];\n            }\n            else {\n                this.currentStates.push(stateName);\n            }\n        }\n        this._updateAnimationTargets();\n        this.markRedraw();\n        if (!useHoverLayer && this.__inHover) {\n            this._toggleHoverLayerFlag(false);\n            this.__dirty &= ~REDRAW_BIT;\n        }\n        return state;\n    };\n    Element.prototype.useStates = function (states, noAnimation, forceUseHoverLayer) {\n        if (!states.length) {\n            this.clearStates();\n        }\n        else {\n            var stateObjects = [];\n            var currentStates = this.currentStates;\n            var len = states.length;\n            var notChange = len === currentStates.length;\n            if (notChange) {\n                for (var i = 0; i < len; i++) {\n                    if (states[i] !== currentStates[i]) {\n                        notChange = false;\n                        break;\n                    }\n                }\n            }\n            if (notChange) {\n                return;\n            }\n            for (var i = 0; i < len; i++) {\n                var stateName = states[i];\n                var stateObj = void 0;\n                if (this.stateProxy) {\n                    stateObj = this.stateProxy(stateName, states);\n                }\n                if (!stateObj) {\n                    stateObj = this.states[stateName];\n                }\n                if (stateObj) {\n                    stateObjects.push(stateObj);\n                }\n            }\n            var lastStateObj = stateObjects[len - 1];\n            var useHoverLayer = !!((lastStateObj && lastStateObj.hoverLayer) || forceUseHoverLayer);\n            if (useHoverLayer) {\n                this._toggleHoverLayerFlag(true);\n            }\n            var mergedState = this._mergeStates(stateObjects);\n            var animationCfg = this.stateTransition;\n            this.saveCurrentToNormalState(mergedState);\n            this._applyStateObj(states.join(','), mergedState, this._normalState, false, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);\n            var textContent = this._textContent;\n            var textGuide = this._textGuide;\n            if (textContent) {\n                textContent.useStates(states, noAnimation, useHoverLayer);\n            }\n            if (textGuide) {\n                textGuide.useStates(states, noAnimation, useHoverLayer);\n            }\n            this._updateAnimationTargets();\n            this.currentStates = states.slice();\n            this.markRedraw();\n            if (!useHoverLayer && this.__inHover) {\n                this._toggleHoverLayerFlag(false);\n                this.__dirty &= ~REDRAW_BIT;\n            }\n        }\n    };\n    Element.prototype._updateAnimationTargets = function () {\n        for (var i = 0; i < this.animators.length; i++) {\n            var animator = this.animators[i];\n            if (animator.targetName) {\n                animator.changeTarget(this[animator.targetName]);\n            }\n        }\n    };\n    Element.prototype.removeState = function (state) {\n        var idx = indexOf(this.currentStates, state);\n        if (idx >= 0) {\n            var currentStates = this.currentStates.slice();\n            currentStates.splice(idx, 1);\n            this.useStates(currentStates);\n        }\n    };\n    Element.prototype.replaceState = function (oldState, newState, forceAdd) {\n        var currentStates = this.currentStates.slice();\n        var idx = indexOf(currentStates, oldState);\n        var newStateExists = indexOf(currentStates, newState) >= 0;\n        if (idx >= 0) {\n            if (!newStateExists) {\n                currentStates[idx] = newState;\n            }\n            else {\n                currentStates.splice(idx, 1);\n            }\n        }\n        else if (forceAdd && !newStateExists) {\n            currentStates.push(newState);\n        }\n        this.useStates(currentStates);\n    };\n    Element.prototype.toggleState = function (state, enable) {\n        if (enable) {\n            this.useState(state, true);\n        }\n        else {\n            this.removeState(state);\n        }\n    };\n    Element.prototype._mergeStates = function (states) {\n        var mergedState = {};\n        var mergedTextConfig;\n        for (var i = 0; i < states.length; i++) {\n            var state = states[i];\n            extend(mergedState, state);\n            if (state.textConfig) {\n                mergedTextConfig = mergedTextConfig || {};\n                extend(mergedTextConfig, state.textConfig);\n            }\n        }\n        if (mergedTextConfig) {\n            mergedState.textConfig = mergedTextConfig;\n        }\n        return mergedState;\n    };\n    Element.prototype._applyStateObj = function (stateName, state, normalState, keepCurrentStates, transition, animationCfg) {\n        var needsRestoreToNormal = !(state && keepCurrentStates);\n        if (state && state.textConfig) {\n            this.textConfig = extend({}, keepCurrentStates ? this.textConfig : normalState.textConfig);\n            extend(this.textConfig, state.textConfig);\n        }\n        else if (needsRestoreToNormal) {\n            if (normalState.textConfig) {\n                this.textConfig = normalState.textConfig;\n            }\n        }\n        var transitionTarget = {};\n        var hasTransition = false;\n        for (var i = 0; i < PRIMARY_STATES_KEYS.length; i++) {\n            var key = PRIMARY_STATES_KEYS[i];\n            var propNeedsTransition = transition && DEFAULT_ANIMATABLE_MAP[key];\n            if (state && state[key] != null) {\n                if (propNeedsTransition) {\n                    hasTransition = true;\n                    transitionTarget[key] = state[key];\n                }\n                else {\n                    this[key] = state[key];\n                }\n            }\n            else if (needsRestoreToNormal) {\n                if (normalState[key] != null) {\n                    if (propNeedsTransition) {\n                        hasTransition = true;\n                        transitionTarget[key] = normalState[key];\n                    }\n                    else {\n                        this[key] = normalState[key];\n                    }\n                }\n            }\n        }\n        if (!transition) {\n            for (var i = 0; i < this.animators.length; i++) {\n                var animator = this.animators[i];\n                var targetName = animator.targetName;\n                if (!animator.getLoop()) {\n                    animator.__changeFinalValue(targetName\n                        ? (state || normalState)[targetName]\n                        : (state || normalState));\n                }\n            }\n        }\n        if (hasTransition) {\n            this._transitionState(stateName, transitionTarget, animationCfg);\n        }\n    };\n    Element.prototype._attachComponent = function (componentEl) {\n        if (componentEl.__zr && !componentEl.__hostTarget) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Text element has been added to zrender.');\n            }\n            return;\n        }\n        if (componentEl === this) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error('Recursive component attachment.');\n            }\n            return;\n        }\n        var zr = this.__zr;\n        if (zr) {\n            componentEl.addSelfToZr(zr);\n        }\n        componentEl.__zr = zr;\n        componentEl.__hostTarget = this;\n    };\n    Element.prototype._detachComponent = function (componentEl) {\n        if (componentEl.__zr) {\n            componentEl.removeSelfFromZr(componentEl.__zr);\n        }\n        componentEl.__zr = null;\n        componentEl.__hostTarget = null;\n    };\n    Element.prototype.getClipPath = function () {\n        return this._clipPath;\n    };\n    Element.prototype.setClipPath = function (clipPath) {\n        if (this._clipPath && this._clipPath !== clipPath) {\n            this.removeClipPath();\n        }\n        this._attachComponent(clipPath);\n        this._clipPath = clipPath;\n        this.markRedraw();\n    };\n    Element.prototype.removeClipPath = function () {\n        var clipPath = this._clipPath;\n        if (clipPath) {\n            this._detachComponent(clipPath);\n            this._clipPath = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextContent = function () {\n        return this._textContent;\n    };\n    Element.prototype.setTextContent = function (textEl) {\n        var previousTextContent = this._textContent;\n        if (previousTextContent === textEl) {\n            return;\n        }\n        if (previousTextContent && previousTextContent !== textEl) {\n            this.removeTextContent();\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (textEl.__zr && !textEl.__hostTarget) {\n                throw new Error('Text element has been added to zrender.');\n            }\n        }\n        textEl.innerTransformable = new Transformable();\n        this._attachComponent(textEl);\n        this._textContent = textEl;\n        this.markRedraw();\n    };\n    Element.prototype.setTextConfig = function (cfg) {\n        if (!this.textConfig) {\n            this.textConfig = {};\n        }\n        extend(this.textConfig, cfg);\n        this.markRedraw();\n    };\n    Element.prototype.removeTextConfig = function () {\n        this.textConfig = null;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextContent = function () {\n        var textEl = this._textContent;\n        if (textEl) {\n            textEl.innerTransformable = null;\n            this._detachComponent(textEl);\n            this._textContent = null;\n            this._innerTextDefaultStyle = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.getTextGuideLine = function () {\n        return this._textGuide;\n    };\n    Element.prototype.setTextGuideLine = function (guideLine) {\n        if (this._textGuide && this._textGuide !== guideLine) {\n            this.removeTextGuideLine();\n        }\n        this._attachComponent(guideLine);\n        this._textGuide = guideLine;\n        this.markRedraw();\n    };\n    Element.prototype.removeTextGuideLine = function () {\n        var textGuide = this._textGuide;\n        if (textGuide) {\n            this._detachComponent(textGuide);\n            this._textGuide = null;\n            this.markRedraw();\n        }\n    };\n    Element.prototype.markRedraw = function () {\n        this.__dirty |= REDRAW_BIT;\n        var zr = this.__zr;\n        if (zr) {\n            if (this.__inHover) {\n                zr.refreshHover();\n            }\n            else {\n                zr.refresh();\n            }\n        }\n        if (this.__hostTarget) {\n            this.__hostTarget.markRedraw();\n        }\n    };\n    Element.prototype.dirty = function () {\n        this.markRedraw();\n    };\n    Element.prototype._toggleHoverLayerFlag = function (inHover) {\n        this.__inHover = inHover;\n        var textContent = this._textContent;\n        var textGuide = this._textGuide;\n        if (textContent) {\n            textContent.__inHover = inHover;\n        }\n        if (textGuide) {\n            textGuide.__inHover = inHover;\n        }\n    };\n    Element.prototype.addSelfToZr = function (zr) {\n        if (this.__zr === zr) {\n            return;\n        }\n        this.__zr = zr;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.addAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.addSelfToZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.addSelfToZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.addSelfToZr(zr);\n        }\n    };\n    Element.prototype.removeSelfFromZr = function (zr) {\n        if (!this.__zr) {\n            return;\n        }\n        this.__zr = null;\n        var animators = this.animators;\n        if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n                zr.animation.removeAnimator(animators[i]);\n            }\n        }\n        if (this._clipPath) {\n            this._clipPath.removeSelfFromZr(zr);\n        }\n        if (this._textContent) {\n            this._textContent.removeSelfFromZr(zr);\n        }\n        if (this._textGuide) {\n            this._textGuide.removeSelfFromZr(zr);\n        }\n    };\n    Element.prototype.animate = function (key, loop, allowDiscreteAnimation) {\n        var target = key ? this[key] : this;\n        if (process.env.NODE_ENV !== 'production') {\n            if (!target) {\n                logError('Property \"'\n                    + key\n                    + '\" is not existed in element '\n                    + this.id);\n                return;\n            }\n        }\n        var animator = new Animator(target, loop, allowDiscreteAnimation);\n        key && (animator.targetName = key);\n        this.addAnimator(animator, key);\n        return animator;\n    };\n    Element.prototype.addAnimator = function (animator, key) {\n        var zr = this.__zr;\n        var el = this;\n        animator.during(function () {\n            el.updateDuringAnimation(key);\n        }).done(function () {\n            var animators = el.animators;\n            var idx = indexOf(animators, animator);\n            if (idx >= 0) {\n                animators.splice(idx, 1);\n            }\n        });\n        this.animators.push(animator);\n        if (zr) {\n            zr.animation.addAnimator(animator);\n        }\n        zr && zr.wakeUp();\n    };\n    Element.prototype.updateDuringAnimation = function (key) {\n        this.markRedraw();\n    };\n    Element.prototype.stopAnimation = function (scope, forwardToLast) {\n        var animators = this.animators;\n        var len = animators.length;\n        var leftAnimators = [];\n        for (var i = 0; i < len; i++) {\n            var animator = animators[i];\n            if (!scope || scope === animator.scope) {\n                animator.stop(forwardToLast);\n            }\n            else {\n                leftAnimators.push(animator);\n            }\n        }\n        this.animators = leftAnimators;\n        return this;\n    };\n    Element.prototype.animateTo = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps);\n    };\n    Element.prototype.animateFrom = function (target, cfg, animationProps) {\n        animateTo(this, target, cfg, animationProps, true);\n    };\n    Element.prototype._transitionState = function (stateName, target, cfg, animationProps) {\n        var animators = animateTo(this, target, cfg, animationProps);\n        for (var i = 0; i < animators.length; i++) {\n            animators[i].__fromStateTransition = stateName;\n        }\n    };\n    Element.prototype.getBoundingRect = function () {\n        return null;\n    };\n    Element.prototype.getPaintRect = function () {\n        return null;\n    };\n    Element.initDefaultProps = (function () {\n        var elProto = Element.prototype;\n        elProto.type = 'element';\n        elProto.name = '';\n        elProto.ignore =\n            elProto.silent =\n                elProto.isGroup =\n                    elProto.draggable =\n                        elProto.dragging =\n                            elProto.ignoreClip =\n                                elProto.__inHover = false;\n        elProto.__dirty = REDRAW_BIT;\n        var logs = {};\n        function logDeprecatedError(key, xKey, yKey) {\n            if (!logs[key + xKey + yKey]) {\n                console.warn(\"DEPRECATED: '\" + key + \"' has been deprecated. use '\" + xKey + \"', '\" + yKey + \"' instead\");\n                logs[key + xKey + yKey] = true;\n            }\n        }\n        function createLegacyProperty(key, privateKey, xKey, yKey) {\n            Object.defineProperty(elProto, key, {\n                get: function () {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    if (!this[privateKey]) {\n                        var pos = this[privateKey] = [];\n                        enhanceArray(this, pos);\n                    }\n                    return this[privateKey];\n                },\n                set: function (pos) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        logDeprecatedError(key, xKey, yKey);\n                    }\n                    this[xKey] = pos[0];\n                    this[yKey] = pos[1];\n                    this[privateKey] = pos;\n                    enhanceArray(this, pos);\n                }\n            });\n            function enhanceArray(self, pos) {\n                Object.defineProperty(pos, 0, {\n                    get: function () {\n                        return self[xKey];\n                    },\n                    set: function (val) {\n                        self[xKey] = val;\n                    }\n                });\n                Object.defineProperty(pos, 1, {\n                    get: function () {\n                        return self[yKey];\n                    },\n                    set: function (val) {\n                        self[yKey] = val;\n                    }\n                });\n            }\n        }\n        if (Object.defineProperty) {\n            createLegacyProperty('position', '_legacyPos', 'x', 'y');\n            createLegacyProperty('scale', '_legacyScale', 'scaleX', 'scaleY');\n            createLegacyProperty('origin', '_legacyOrigin', 'originX', 'originY');\n        }\n    })();\n    return Element;\n}());\nmixin(Element, Eventful);\nmixin(Element, Transformable);\nfunction animateTo(animatable, target, cfg, animationProps, reverse) {\n    cfg = cfg || {};\n    var animators = [];\n    animateToShallow(animatable, '', animatable, target, cfg, animationProps, animators, reverse);\n    var finishCount = animators.length;\n    var doneHappened = false;\n    var cfgDone = cfg.done;\n    var cfgAborted = cfg.aborted;\n    var doneCb = function () {\n        doneHappened = true;\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    var abortedCb = function () {\n        finishCount--;\n        if (finishCount <= 0) {\n            doneHappened\n                ? (cfgDone && cfgDone())\n                : (cfgAborted && cfgAborted());\n        }\n    };\n    if (!finishCount) {\n        cfgDone && cfgDone();\n    }\n    if (animators.length > 0 && cfg.during) {\n        animators[0].during(function (target, percent) {\n            cfg.during(percent);\n        });\n    }\n    for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i];\n        if (doneCb) {\n            animator.done(doneCb);\n        }\n        if (abortedCb) {\n            animator.aborted(abortedCb);\n        }\n        if (cfg.force) {\n            animator.duration(cfg.duration);\n        }\n        animator.start(cfg.easing);\n    }\n    return animators;\n}\nfunction copyArrShallow(source, target, len) {\n    for (var i = 0; i < len; i++) {\n        source[i] = target[i];\n    }\n}\nfunction is2DArray(value) {\n    return isArrayLike(value[0]);\n}\nfunction copyValue(target, source, key) {\n    if (isArrayLike(source[key])) {\n        if (!isArrayLike(target[key])) {\n            target[key] = [];\n        }\n        if (isTypedArray(source[key])) {\n            var len = source[key].length;\n            if (target[key].length !== len) {\n                target[key] = new (source[key].constructor)(len);\n                copyArrShallow(target[key], source[key], len);\n            }\n        }\n        else {\n            var sourceArr = source[key];\n            var targetArr = target[key];\n            var len0 = sourceArr.length;\n            if (is2DArray(sourceArr)) {\n                var len1 = sourceArr[0].length;\n                for (var i = 0; i < len0; i++) {\n                    if (!targetArr[i]) {\n                        targetArr[i] = Array.prototype.slice.call(sourceArr[i]);\n                    }\n                    else {\n                        copyArrShallow(targetArr[i], sourceArr[i], len1);\n                    }\n                }\n            }\n            else {\n                copyArrShallow(targetArr, sourceArr, len0);\n            }\n            targetArr.length = sourceArr.length;\n        }\n    }\n    else {\n        target[key] = source[key];\n    }\n}\nfunction isValueSame(val1, val2) {\n    return val1 === val2\n        || isArrayLike(val1) && isArrayLike(val2) && is1DArraySame(val1, val2);\n}\nfunction is1DArraySame(arr0, arr1) {\n    var len = arr0.length;\n    if (len !== arr1.length) {\n        return false;\n    }\n    for (var i = 0; i < len; i++) {\n        if (arr0[i] !== arr1[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction animateToShallow(animatable, topKey, animateObj, target, cfg, animationProps, animators, reverse) {\n    var targetKeys = keys(target);\n    var duration = cfg.duration;\n    var delay = cfg.delay;\n    var additive = cfg.additive;\n    var setToFinal = cfg.setToFinal;\n    var animateAll = !isObject(animationProps);\n    var existsAnimators = animatable.animators;\n    var animationKeys = [];\n    for (var k = 0; k < targetKeys.length; k++) {\n        var innerKey = targetKeys[k];\n        var targetVal = target[innerKey];\n        if (targetVal != null && animateObj[innerKey] != null\n            && (animateAll || animationProps[innerKey])) {\n            if (isObject(targetVal)\n                && !isArrayLike(targetVal)\n                && !isGradientObject(targetVal)) {\n                if (topKey) {\n                    if (!reverse) {\n                        animateObj[innerKey] = targetVal;\n                        animatable.updateDuringAnimation(topKey);\n                    }\n                    continue;\n                }\n                animateToShallow(animatable, innerKey, animateObj[innerKey], targetVal, cfg, animationProps && animationProps[innerKey], animators, reverse);\n            }\n            else {\n                animationKeys.push(innerKey);\n            }\n        }\n        else if (!reverse) {\n            animateObj[innerKey] = targetVal;\n            animatable.updateDuringAnimation(topKey);\n            animationKeys.push(innerKey);\n        }\n    }\n    var keyLen = animationKeys.length;\n    if (!additive && keyLen) {\n        for (var i = 0; i < existsAnimators.length; i++) {\n            var animator = existsAnimators[i];\n            if (animator.targetName === topKey) {\n                var allAborted = animator.stopTracks(animationKeys);\n                if (allAborted) {\n                    var idx = indexOf(existsAnimators, animator);\n                    existsAnimators.splice(idx, 1);\n                }\n            }\n        }\n    }\n    if (!cfg.force) {\n        animationKeys = filter(animationKeys, function (key) { return !isValueSame(target[key], animateObj[key]); });\n        keyLen = animationKeys.length;\n    }\n    if (keyLen > 0\n        || (cfg.force && !animators.length)) {\n        var revertedSource = void 0;\n        var reversedTarget = void 0;\n        var sourceClone = void 0;\n        if (reverse) {\n            reversedTarget = {};\n            if (setToFinal) {\n                revertedSource = {};\n            }\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                reversedTarget[innerKey] = animateObj[innerKey];\n                if (setToFinal) {\n                    revertedSource[innerKey] = target[innerKey];\n                }\n                else {\n                    animateObj[innerKey] = target[innerKey];\n                }\n            }\n        }\n        else if (setToFinal) {\n            sourceClone = {};\n            for (var i = 0; i < keyLen; i++) {\n                var innerKey = animationKeys[i];\n                sourceClone[innerKey] = cloneValue(animateObj[innerKey]);\n                copyValue(animateObj, target, innerKey);\n            }\n        }\n        var animator = new Animator(animateObj, false, false, additive ? filter(existsAnimators, function (animator) { return animator.targetName === topKey; }) : null);\n        animator.targetName = topKey;\n        if (cfg.scope) {\n            animator.scope = cfg.scope;\n        }\n        if (setToFinal && revertedSource) {\n            animator.whenWithKeys(0, revertedSource, animationKeys);\n        }\n        if (sourceClone) {\n            animator.whenWithKeys(0, sourceClone, animationKeys);\n        }\n        animator.whenWithKeys(duration == null ? 500 : duration, reverse ? reversedTarget : target, animationKeys).delay(delay || 0);\n        animatable.addAnimator(animator, topKey);\n        animators.push(animator);\n    }\n}\nexport default Element;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}