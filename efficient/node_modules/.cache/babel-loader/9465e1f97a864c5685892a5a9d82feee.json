{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.install = install;\n\nvar _GeoModel = _interopRequireDefault(require(\"../../coord/geo/GeoModel.js\"));\n\nvar _geoCreator = _interopRequireDefault(require(\"../../coord/geo/geoCreator.js\"));\n\nvar _util = require(\"zrender/lib/core/util.js\");\n\nvar _roamHelper = require(\"../../action/roamHelper.js\");\n\nvar _GeoView = _interopRequireDefault(require(\"./GeoView.js\"));\n\nvar _geoSourceManager = _interopRequireDefault(require(\"../../coord/geo/geoSourceManager.js\"));\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction registerMap(mapName, geoJson, specialAreas) {\n  _geoSourceManager.default.registerMap(mapName, geoJson, specialAreas);\n}\n\nfunction install(registers) {\n  registers.registerCoordinateSystem('geo', _geoCreator.default);\n  registers.registerComponentModel(_GeoModel.default);\n  registers.registerComponentView(_GeoView.default);\n  registers.registerImpl('registerMap', registerMap);\n  registers.registerImpl('getMap', function (mapName) {\n    return _geoSourceManager.default.getMapForUser(mapName);\n  });\n\n  function makeAction(method, actionInfo) {\n    actionInfo.update = 'geo:updateSelectStatus';\n    registers.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      var allSelected = [];\n      ecModel.eachComponent({\n        mainType: 'geo',\n        query: payload\n      }, function (geoModel) {\n        geoModel[method](payload.name);\n        var geo = geoModel.coordinateSystem;\n        (0, _util.each)(geo.regions, function (region) {\n          selected[region.name] = geoModel.isSelected(region.name) || false;\n        }); // Notice: there might be duplicated name in different regions.\n\n        var names = [];\n        (0, _util.each)(selected, function (v, name) {\n          selected[name] && names.push(name);\n        });\n        allSelected.push({\n          geoIndex: geoModel.componentIndex,\n          // Use singular, the same naming convention as the event `selectchanged`.\n          name: names\n        });\n      });\n      return {\n        selected: selected,\n        allSelected: allSelected,\n        name: payload.name\n      };\n    });\n  }\n\n  makeAction('toggleSelected', {\n    type: 'geoToggleSelect',\n    event: 'geoselectchanged'\n  });\n  makeAction('select', {\n    type: 'geoSelect',\n    event: 'geoselected'\n  });\n  makeAction('unSelect', {\n    type: 'geoUnSelect',\n    event: 'geounselected'\n  });\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n\n  registers.registerAction({\n    type: 'geoRoam',\n    event: 'geoRoam',\n    update: 'updateTransform'\n  }, function (payload, ecModel, api) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      var geo = componentModel.coordinateSystem;\n\n      if (geo.type !== 'geo') {\n        return;\n      }\n\n      var res = (0, _roamHelper.updateCenterAndZoom)(geo, payload, componentModel.get('scaleLimit'), api);\n      componentModel.setCenter && componentModel.setCenter(res.center);\n      componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\n      // So the center and zoom must be in sync. Include the series not selected by legend\n\n      if (componentType === 'series') {\n        (0, _util.each)(componentModel.seriesGroup, function (seriesModel) {\n          seriesModel.setCenter(res.center);\n          seriesModel.setZoom(res.zoom);\n        });\n      }\n    });\n  });\n}","map":{"version":3,"names":["registerMap","mapName","geoJson","specialAreas","geoSourceManager","install","registers","registerCoordinateSystem","geoCreator","registerComponentModel","GeoModel","registerComponentView","GeoView","registerImpl","getMapForUser","makeAction","method","actionInfo","update","registerAction","payload","ecModel","selected","allSelected","eachComponent","mainType","query","geoModel","name","geo","coordinateSystem","each","regions","region","isSelected","names","v","push","geoIndex","componentIndex","type","event","api","componentType","componentModel","res","updateCenterAndZoom","get","setCenter","center","setZoom","zoom","seriesGroup","seriesModel"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/component/geo/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GeoModel from '../../coord/geo/GeoModel.js';\nimport geoCreator from '../../coord/geo/geoCreator.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\nimport GeoView from './GeoView.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\n\nfunction registerMap(mapName, geoJson, specialAreas) {\n  geoSourceManager.registerMap(mapName, geoJson, specialAreas);\n}\n\nexport function install(registers) {\n  registers.registerCoordinateSystem('geo', geoCreator);\n  registers.registerComponentModel(GeoModel);\n  registers.registerComponentView(GeoView);\n  registers.registerImpl('registerMap', registerMap);\n  registers.registerImpl('getMap', function (mapName) {\n    return geoSourceManager.getMapForUser(mapName);\n  });\n\n  function makeAction(method, actionInfo) {\n    actionInfo.update = 'geo:updateSelectStatus';\n    registers.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      var allSelected = [];\n      ecModel.eachComponent({\n        mainType: 'geo',\n        query: payload\n      }, function (geoModel) {\n        geoModel[method](payload.name);\n        var geo = geoModel.coordinateSystem;\n        each(geo.regions, function (region) {\n          selected[region.name] = geoModel.isSelected(region.name) || false;\n        }); // Notice: there might be duplicated name in different regions.\n\n        var names = [];\n        each(selected, function (v, name) {\n          selected[name] && names.push(name);\n        });\n        allSelected.push({\n          geoIndex: geoModel.componentIndex,\n          // Use singular, the same naming convention as the event `selectchanged`.\n          name: names\n        });\n      });\n      return {\n        selected: selected,\n        allSelected: allSelected,\n        name: payload.name\n      };\n    });\n  }\n\n  makeAction('toggleSelected', {\n    type: 'geoToggleSelect',\n    event: 'geoselectchanged'\n  });\n  makeAction('select', {\n    type: 'geoSelect',\n    event: 'geoselected'\n  });\n  makeAction('unSelect', {\n    type: 'geoUnSelect',\n    event: 'geounselected'\n  });\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n\n  registers.registerAction({\n    type: 'geoRoam',\n    event: 'geoRoam',\n    update: 'updateTransform'\n  }, function (payload, ecModel, api) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      var geo = componentModel.coordinateSystem;\n\n      if (geo.type !== 'geo') {\n        return;\n      }\n\n      var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'), api);\n      componentModel.setCenter && componentModel.setCenter(res.center);\n      componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\n      // So the center and zoom must be in sync. Include the series not selected by legend\n\n      if (componentType === 'series') {\n        each(componentModel.seriesGroup, function (seriesModel) {\n          seriesModel.setCenter(res.center);\n          seriesModel.setZoom(res.zoom);\n        });\n      }\n    });\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}