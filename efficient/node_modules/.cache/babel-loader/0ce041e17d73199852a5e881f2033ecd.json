{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Dispatcher\", {\n  enumerable: true,\n  get: function () {\n    return _Eventful.default;\n  }\n});\nexports.addEventListener = addEventListener;\nexports.clientToLocal = clientToLocal;\nexports.getNativeEvent = getNativeEvent;\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nexports.normalizeEvent = normalizeEvent;\nexports.removeEventListener = removeEventListener;\nexports.stop = void 0;\n\nvar _Eventful = _interopRequireDefault(require(\"./Eventful.js\"));\n\nvar _env = _interopRequireDefault(require(\"./env.js\"));\n\nvar _dom = require(\"./dom.js\");\n\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = _env.default.browser.firefox && +_env.default.browser.version.split('.')[0] < 39;\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {};\n\n  if (calculate) {\n    calculateZrXY(el, e, out);\n  } else if (firefoxNotSupportOffsetXY && e.layerX != null && e.layerX !== e.offsetX) {\n    out.zrX = e.layerX;\n    out.zrY = e.layerY;\n  } else if (e.offsetX != null) {\n    out.zrX = e.offsetX;\n    out.zrY = e.offsetY;\n  } else {\n    calculateZrXY(el, e, out);\n  }\n\n  return out;\n}\n\nfunction calculateZrXY(el, e, out) {\n  if (_env.default.domSupported && el.getBoundingClientRect) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n\n    if ((0, _dom.isCanvasEl)(el)) {\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      if ((0, _dom.transformCoordWithViewport)(_calcOut, el, ex, ey)) {\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n\n  out.zrX = out.zrY = 0;\n}\n\nfunction getNativeEvent(e) {\n  return e || window.event;\n}\n\nfunction normalizeEvent(el, e, calculate) {\n  e = getNativeEvent(e);\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    var wheelDelta = getWheelDeltaMayPolyfill(e);\n    e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  }\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  }\n\n  return e;\n}\n\nfunction getWheelDeltaMayPolyfill(e) {\n  var rawWheelDelta = e.wheelDelta;\n\n  if (rawWheelDelta) {\n    return rawWheelDelta;\n  }\n\n  var deltaX = e.deltaX;\n  var deltaY = e.deltaY;\n\n  if (deltaX == null || deltaY == null) {\n    return rawWheelDelta;\n  }\n\n  var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n  var sign = deltaY > 0 ? -1 : deltaY < 0 ? 1 : deltaX > 0 ? -1 : 1;\n  return 3 * delta * sign;\n}\n\nfunction addEventListener(el, name, handler, opt) {\n  el.addEventListener(name, handler, opt);\n}\n\nfunction removeEventListener(el, name, handler, opt) {\n  el.removeEventListener(name, handler, opt);\n}\n\nvar stop = function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n};\n\nexports.stop = stop;\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}","map":{"version":3,"names":["MOUSE_EVENT_REG","_calcOut","firefoxNotSupportOffsetXY","env","browser","firefox","version","split","clientToLocal","el","e","out","calculate","calculateZrXY","layerX","offsetX","zrX","zrY","layerY","offsetY","domSupported","getBoundingClientRect","ex","clientX","ey","clientY","isCanvasEl","box","left","top","transformCoordWithViewport","getNativeEvent","window","event","normalizeEvent","eventType","type","isTouch","indexOf","wheelDelta","getWheelDeltaMayPolyfill","zrDelta","detail","touch","targetTouches","changedTouches","button","which","undefined","test","rawWheelDelta","deltaX","deltaY","delta","Math","abs","sign","addEventListener","name","handler","opt","removeEventListener","stop","preventDefault","stopPropagation","cancelBubble","isMiddleOrRightButtonOnMouseUpDown"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/zrender/lib/core/event.js"],"sourcesContent":["import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}