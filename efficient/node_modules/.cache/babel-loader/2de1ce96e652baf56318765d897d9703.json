{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.DEFAULT_IMAGE_STYLE = exports.DEFAULT_IMAGE_ANIMATION_PROPS = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar _Displayable = _interopRequireWildcard(require(\"./Displayable.js\"));\n\nvar _BoundingRect = _interopRequireDefault(require(\"../core/BoundingRect.js\"));\n\nvar _util = require(\"../core/util.js\");\n\nvar DEFAULT_IMAGE_STYLE = (0, _util.defaults)({\n  x: 0,\n  y: 0\n}, _Displayable.DEFAULT_COMMON_STYLE);\nexports.DEFAULT_IMAGE_STYLE = DEFAULT_IMAGE_STYLE;\nvar DEFAULT_IMAGE_ANIMATION_PROPS = {\n  style: (0, _util.defaults)({\n    x: true,\n    y: true,\n    width: true,\n    height: true,\n    sx: true,\n    sy: true,\n    sWidth: true,\n    sHeight: true\n  }, _Displayable.DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nexports.DEFAULT_IMAGE_ANIMATION_PROPS = DEFAULT_IMAGE_ANIMATION_PROPS;\n\nfunction isImageLike(source) {\n  return !!(source && typeof source !== 'string' && source.width && source.height);\n}\n\nvar ZRImage = function (_super) {\n  (0, _tslib.__extends)(ZRImage, _super);\n\n  function ZRImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ZRImage.prototype.createStyle = function (obj) {\n    return (0, _util.createObject)(DEFAULT_IMAGE_STYLE, obj);\n  };\n\n  ZRImage.prototype._getSize = function (dim) {\n    var style = this.style;\n    var size = style[dim];\n\n    if (size != null) {\n      return size;\n    }\n\n    var imageSource = isImageLike(style.image) ? style.image : this.__image;\n\n    if (!imageSource) {\n      return 0;\n    }\n\n    var otherDim = dim === 'width' ? 'height' : 'width';\n    var otherDimSize = style[otherDim];\n\n    if (otherDimSize == null) {\n      return imageSource[dim];\n    } else {\n      return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n    }\n  };\n\n  ZRImage.prototype.getWidth = function () {\n    return this._getSize('width');\n  };\n\n  ZRImage.prototype.getHeight = function () {\n    return this._getSize('height');\n  };\n\n  ZRImage.prototype.getAnimationStyleProps = function () {\n    return DEFAULT_IMAGE_ANIMATION_PROPS;\n  };\n\n  ZRImage.prototype.getBoundingRect = function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new _BoundingRect.default(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n    }\n\n    return this._rect;\n  };\n\n  return ZRImage;\n}(_Displayable.default);\n\nZRImage.prototype.type = 'image';\nvar _default = ZRImage;\nexports.default = _default;","map":{"version":3,"names":["DEFAULT_IMAGE_STYLE","defaults","x","y","DEFAULT_COMMON_STYLE","DEFAULT_IMAGE_ANIMATION_PROPS","style","width","height","sx","sy","sWidth","sHeight","DEFAULT_COMMON_ANIMATION_PROPS","isImageLike","source","ZRImage","_super","__extends","apply","arguments","prototype","createStyle","obj","createObject","_getSize","dim","size","imageSource","image","__image","otherDim","otherDimSize","getWidth","getHeight","getAnimationStyleProps","getBoundingRect","_rect","BoundingRect","Displayable","type"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/zrender/lib/graphic/Image.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}