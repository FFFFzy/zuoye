{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar _SymbolDraw = _interopRequireDefault(require(\"../helper/SymbolDraw.js\"));\n\nvar _LargeSymbolDraw = _interopRequireDefault(require(\"../helper/LargeSymbolDraw.js\"));\n\nvar _points = _interopRequireDefault(require(\"../../layout/points.js\"));\n\nvar _Chart = _interopRequireDefault(require(\"../../view/Chart.js\"));\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4) {\n      return {\n        update: true\n      };\n    } else {\n      var res = (0, _points.default)('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype.eachRendered = function (cb) {\n    this._symbolDraw && this._symbolDraw.eachRendered(cb);\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new _LargeSymbolDraw.default() : new _SymbolDraw.default();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(_Chart.default);\n\nvar _default = ScatterView;\nexports.default = _default;","map":{"version":3,"names":["ScatterView","_super","__extends","_this","apply","arguments","type","prototype","render","seriesModel","ecModel","api","data","getData","symbolDraw","_updateSymbolDraw","updateData","clipShape","_getClipShape","_finished","incrementalPrepareRender","incrementalPrepareUpdate","incrementalRender","taskParams","_symbolDraw","incrementalUpdate","end","count","updateTransform","group","dirty","update","res","pointsLayout","reset","progress","start","updateLayout","eachRendered","cb","coordSys","coordinateSystem","clipArea","getArea","get","pipelineContext","isLargeDraw","large","_isLargeDraw","remove","LargeSymbolDraw","SymbolDraw","removeAll","add","dispose","ChartView"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/chart/scatter/ScatterView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw.js';\nimport pointsLayout from '../../layout/points.js';\nimport ChartView from '../../view/Chart.js';\n\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  __extends(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype.eachRendered = function (cb) {\n    this._symbolDraw && this._symbolDraw.eachRendered(cb);\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\n\nexport default ScatterView;"],"mappings":"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"},"metadata":{},"sourceType":"script"}