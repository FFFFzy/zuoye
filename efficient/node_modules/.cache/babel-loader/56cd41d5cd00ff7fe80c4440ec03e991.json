{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar zrUtil = _interopRequireWildcard(require(\"zrender/lib/core/util.js\"));\n\nvar _visualDefault = _interopRequireDefault(require(\"../../visual/visualDefault.js\"));\n\nvar _VisualMapping = _interopRequireDefault(require(\"../../visual/VisualMapping.js\"));\n\nvar visualSolution = _interopRequireWildcard(require(\"../../visual/visualSolution.js\"));\n\nvar modelUtil = _interopRequireWildcard(require(\"../../util/model.js\"));\n\nvar numberUtil = _interopRequireWildcard(require(\"../../util/number.js\"));\n\nvar _Component = _interopRequireDefault(require(\"../../model/Component.js\"));\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar mapVisual = _VisualMapping.default.mapVisual;\nvar eachVisual = _VisualMapping.default.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\n\nvar VisualMapModel =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(VisualMapModel, _super);\n\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\n     * [lowerBound, upperBound]\n     */\n\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\n   * @public\n   */\n\n\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n\n\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  };\n  /**\n   * @public\n   */\n\n\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\n   * @pubilc\n   */\n\n\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param value Real value, or this.dataBound[0 or 1].\n   * @param isCategory Only available when value is number.\n   * @param edgeSymbols Open-close symbol when value is interval.\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\n   * PENDING:\n   * delete this method if no outer usage.\n   *\n   * Return  Concrete dimention. If return null/undefined, no dimension used.\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n\n\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n\n    var dimNames = data.dimensions;\n\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!_VisualMapping.default.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = _visualDefault.default.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter none\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max_1 = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n\n\n  VisualMapModel.prototype.setSelected = function (selected) {};\n\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n\n\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n\n\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    padding: 5,\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: '#333' // 值域文字颜色\n\n    }\n  };\n  return VisualMapModel;\n}(_Component.default);\n\nvar _default = VisualMapModel;\nexports.default = _default;","map":{"version":3,"names":["mapVisual","VisualMapping","eachVisual","isArray","zrUtil","each","asc","numberUtil","linearMap","VisualMapModel","_super","__extends","_this","apply","arguments","type","stateList","replacableOptionKeys","layoutMode","ignoreSize","dataBound","Infinity","targetVisuals","controllerVisuals","prototype","init","option","parentModel","ecModel","mergeDefaultAndTheme","optionUpdated","newOption","isInit","thisOption","visualSolution","replaceVisualOption","textStyleModel","getModel","resetItemSize","completeVisualOption","resetVisual","supplementVisualOption","bind","createVisualMappings","controller","target","getItemSymbol","getTargetSeriesIndices","optionSeriesIndex","seriesIndex","seriesIndices","eachSeries","seriesModel","index","push","modelUtil","normalizeToArray","eachTargetSeries","callback","context","getSeriesByIndex","call","isTargetSeries","is","model","formatValueText","value","isCategory","edgeSymbols","precision","formatter","isMinMax","slice","textValue","toFixed","isString","replace","isFunction","val","Math","min","resetExtent","extent","max","_dataExtent","getDataDimensionIndex","data","optDim","dimension","getDimensionIndex","dimNames","dimensions","i","length","dimName","dimInfo","getDimensionInfo","isCalculationCoord","storeDimIndex","getExtent","base","inRange","outOfRange","merge","completeSingle","completeInactive","completeController","color","reverse","get","stateExist","stateAbsent","optExist","optAbsent","visualData","visualType","isValidType","defa","visualDefault","hasOwnProperty","opacity","symbolExists","symbol","symbolSizeExists","symbolSize","inactiveColor","itemSymbol","defaultSymbol","state","itemSize","visuals","clone","max_1","parseFloat","categories","setSelected","selected","getSelected","getValueState","getVisualMeta","getColorVisual","dependencies","defaultOption","show","z","left","right","top","bottom","itemWidth","itemHeight","inverse","orient","backgroundColor","borderColor","contentColor","borderWidth","padding","textGap","textStyle","ComponentModel"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/component/visualMap/VisualMapModel.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport visualDefault from '../../visual/visualDefault.js';\nimport VisualMapping from '../../visual/VisualMapping.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport * as modelUtil from '../../util/model.js';\nimport * as numberUtil from '../../util/number.js';\nimport ComponentModel from '../../model/Component.js';\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\n\nvar VisualMapModel =\n/** @class */\nfunction (_super) {\n  __extends(VisualMapModel, _super);\n\n  function VisualMapModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = VisualMapModel.type;\n    _this.stateList = ['inRange', 'outOfRange'];\n    _this.replacableOptionKeys = ['inRange', 'outOfRange', 'target', 'controller', 'color'];\n    _this.layoutMode = {\n      type: 'box',\n      ignoreSize: true\n    };\n    /**\n     * [lowerBound, upperBound]\n     */\n\n    _this.dataBound = [-Infinity, Infinity];\n    _this.targetVisuals = {};\n    _this.controllerVisuals = {};\n    return _this;\n  }\n\n  VisualMapModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.resetVisual = function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  };\n  /**\n   * @public\n   */\n\n\n  VisualMapModel.prototype.getItemSymbol = function () {\n    return null;\n  };\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n\n\n  VisualMapModel.prototype.getTargetSeriesIndices = function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  };\n  /**\n   * @public\n   */\n\n\n  VisualMapModel.prototype.eachTargetSeries = function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      var seriesModel = this.ecModel.getSeriesByIndex(seriesIndex);\n\n      if (seriesModel) {\n        callback.call(context, seriesModel);\n      }\n    }, this);\n  };\n  /**\n   * @pubilc\n   */\n\n\n  VisualMapModel.prototype.isTargetSeries = function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  };\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param value Real value, or this.dataBound[0 or 1].\n   * @param isCategory Only available when value is number.\n   * @param edgeSymbols Open-close symbol when value is interval.\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.formatValueText = function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    var textValue = isCategory ? value // Value is string when isCategory\n    : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  VisualMapModel.prototype.resetExtent = function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  };\n  /**\n   * PENDING:\n   * delete this method if no outer usage.\n   *\n   * Return  Concrete dimention. If return null/undefined, no dimension used.\n   */\n  // getDataDimension(data: SeriesData) {\n  //     const optDim = this.option.dimension;\n  //     if (optDim != null) {\n  //         return data.getDimension(optDim);\n  //     }\n  //     const dimNames = data.dimensions;\n  //     for (let i = dimNames.length - 1; i >= 0; i--) {\n  //         const dimName = dimNames[i];\n  //         const dimInfo = data.getDimensionInfo(dimName);\n  //         if (!dimInfo.isCalculationCoord) {\n  //             return dimName;\n  //         }\n  //     }\n  // }\n\n\n  VisualMapModel.prototype.getDataDimensionIndex = function (data) {\n    var optDim = this.option.dimension;\n\n    if (optDim != null) {\n      return data.getDimensionIndex(optDim);\n    }\n\n    var dimNames = data.dimensions;\n\n    for (var i = dimNames.length - 1; i >= 0; i--) {\n      var dimName = dimNames[i];\n      var dimInfo = data.getDimensionInfo(dimName);\n\n      if (!dimInfo.isCalculationCoord) {\n        return dimInfo.storeDimIndex;\n      }\n    }\n  };\n\n  VisualMapModel.prototype.getExtent = function () {\n    return this._dataExtent.slice();\n  };\n\n  VisualMapModel.prototype.completeVisualOption = function () {\n    var ecModel = this.ecModel;\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the default color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: ecModel.get('gradientColor')\n      };\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      var itemSymbol = this.getItemSymbol();\n      var defaultSymbol = itemSymbol || 'roundRect';\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? defaultSymbol : [defaultSymbol]);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter none\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' ? defaultSymbol : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max_1 = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max_1 && (max_1 = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max_1], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  };\n\n  VisualMapModel.prototype.resetItemSize = function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  };\n\n  VisualMapModel.prototype.isCategory = function () {\n    return !!this.option.categories;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n\n\n  VisualMapModel.prototype.setSelected = function (selected) {};\n\n  VisualMapModel.prototype.getSelected = function () {\n    return null;\n  };\n  /**\n   * @public\n   * @abstract\n   */\n\n\n  VisualMapModel.prototype.getValueState = function (value) {\n    return null;\n  };\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n\n\n  VisualMapModel.prototype.getVisualMeta = function (getColorVisual) {\n    return null;\n  };\n\n  VisualMapModel.type = 'visualMap';\n  VisualMapModel.dependencies = ['series'];\n  VisualMapModel.defaultOption = {\n    show: true,\n    // zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    min: 0,\n    max: 200,\n    left: 0,\n    right: null,\n    top: null,\n    bottom: 0,\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    padding: 5,\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    precision: 0,\n    textStyle: {\n      color: '#333' // 值域文字颜色\n\n    }\n  };\n  return VisualMapModel;\n}(ComponentModel);\n\nexport default VisualMapModel;"],"mappings":"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"},"metadata":{},"sourceType":"script"}