{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar zrUtil = _interopRequireWildcard(require(\"zrender/lib/core/util.js\"));\n\nvar _SymbolDraw = _interopRequireDefault(require(\"../helper/SymbolDraw.js\"));\n\nvar _LineDraw = _interopRequireDefault(require(\"../helper/LineDraw.js\"));\n\nvar _RoamController = _interopRequireDefault(require(\"../../component/helper/RoamController.js\"));\n\nvar roamHelper = _interopRequireWildcard(require(\"../../component/helper/roamHelper.js\"));\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper.js\");\n\nvar graphic = _interopRequireWildcard(require(\"../../util/graphic.js\"));\n\nvar _adjustEdge = _interopRequireDefault(require(\"./adjustEdge.js\"));\n\nvar _graphHelper = require(\"./graphHelper.js\");\n\nvar _Chart = _interopRequireDefault(require(\"../../view/Chart.js\"));\n\nvar _innerStore = require(\"../../util/innerStore.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\n\nvar GraphView =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(GraphView, _super);\n\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GraphView.type;\n    return _this;\n  }\n\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new _SymbolDraw.default();\n    var lineDraw = new _LineDraw.default();\n    var group = this.group;\n    this._controller = new _RoamController.default(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  };\n\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    (0, _adjustEdge.default)(seriesModel.getGraph(), (0, _graphHelper.getNodeGlobalScale)(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData(); // TODO: TYPE\n\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel();\n\n      if (!el) {\n        return;\n      } // Update draggable\n\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !_this._layouting && _this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, [el.x, el.y]);\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n\n      el.setDraggable(draggable && !!forceLayout, !!itemModel.get('cursor'));\n      var focus = itemModel.get(['emphasis', 'focus']);\n\n      if (focus === 'adjacency') {\n        (0, _innerStore.getECData)(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n\n      if (!el) {\n        return;\n      }\n\n      if (focus === 'adjacency') {\n        (0, _innerStore.getECData)(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelRotate = itemModel.get(['label', 'rotate']) || 0;\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        symbolPath.setTextConfig({\n          rotation: -rad,\n          position: textPosition,\n          origin: 'center'\n        });\n        var emphasisState = symbolPath.ensureState('emphasis');\n        zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n          position: textPosition\n        });\n      } else {\n        symbolPath.setTextConfig({\n          rotation: labelRotate *= Math.PI / 180\n        });\n      }\n    });\n    this._firstRender = false;\n  };\n\n  GraphView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n\n  GraphView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !(0, _cursorHelper.onIrrelevantElement)(e, api, seriesModel);\n    });\n\n    if (!isViewCoordSys(seriesModel.coordinateSystem)) {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      _this._updateNodeAndLinkScale();\n\n      (0, _adjustEdge.default)(seriesModel.getGraph(), (0, _graphHelper.getNodeGlobalScale)(seriesModel));\n\n      _this._lineDraw.updateLayout(); // Only update label layout on zoom\n\n\n      api.updateLabelLayout();\n    });\n  };\n\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = (0, _graphHelper.getNodeGlobalScale)(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el && el.setSymbolScale(nodeScale);\n    });\n  };\n\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    (0, _adjustEdge.default)(seriesModel.getGraph(), (0, _graphHelper.getNodeGlobalScale)(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  };\n\n  GraphView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  };\n\n  GraphView.type = 'graph';\n  return GraphView;\n}(_Chart.default);\n\nvar _default = GraphView;\nexports.default = _default;","map":{"version":3,"names":["isViewCoordSys","coordSys","type","GraphView","_super","__extends","_this","apply","arguments","prototype","init","ecModel","api","symbolDraw","SymbolDraw","lineDraw","LineDraw","group","_controller","RoamController","getZr","_controllerHost","target","add","_symbolDraw","_lineDraw","_firstRender","render","seriesModel","coordinateSystem","_model","groupNewProp","x","y","scaleX","scaleY","attr","graphic","updateProps","adjustEdge","getGraph","getNodeGlobalScale","data","getData","updateData","edgeData","getEdgeData","_updateNodeAndLinkScale","_updateController","clearTimeout","_layoutTimeout","forceLayout","layoutAnimation","get","_startForceLayoutIteration","graph","eachNode","node","idx","dataIndex","el","getGraphicEl","itemModel","getModel","off","draggable","on","warmUp","_layouting","setFixed","setItemLayout","setUnfixed","setDraggable","focus","getECData","getAdjacentDataIndices","eachEdge","edge","node1","node2","circularRotateLabel","cx","getLayout","cy","eachItemGraphicEl","getItemModel","labelRotate","symbolPath","getSymbolPath","pos","getItemLayout","rad","Math","atan2","PI","isLeft","textPosition","setTextConfig","rotation","position","origin","emphasisState","ensureState","zrUtil","extend","textConfig","dispose","self","step","stopped","updateLayout","setTimeout","controller","controllerHost","setPointerChecker","e","rect","getBoundingRect","applyTransform","transform","contain","onIrrelevantElement","disable","enable","zoomLimit","zoom","getZoom","roamHelper","updateViewOnPan","dx","dy","dispatchAction","seriesId","id","updateViewOnZoom","scale","originX","originY","updateLabelLayout","nodeScale","setSymbolScale","remove","ChartView"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/chart/graph/GraphView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LineDraw from '../helper/LineDraw.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport adjustEdge from './adjustEdge.js';\nimport { getNodeGlobalScale } from './graphHelper.js';\nimport ChartView from '../../view/Chart.js';\nimport { getECData } from '../../util/innerStore.js';\n\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\n\nvar GraphView =\n/** @class */\nfunction (_super) {\n  __extends(GraphView, _super);\n\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GraphView.type;\n    return _this;\n  }\n\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  };\n\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData(); // TODO: TYPE\n\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel();\n\n      if (!el) {\n        return;\n      } // Update draggable\n\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !_this._layouting && _this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, [el.x, el.y]);\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n\n      el.setDraggable(draggable && !!forceLayout, !!itemModel.get('cursor'));\n      var focus = itemModel.get(['emphasis', 'focus']);\n\n      if (focus === 'adjacency') {\n        getECData(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n\n      if (!el) {\n        return;\n      }\n\n      if (focus === 'adjacency') {\n        getECData(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelRotate = itemModel.get(['label', 'rotate']) || 0;\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        symbolPath.setTextConfig({\n          rotation: -rad,\n          position: textPosition,\n          origin: 'center'\n        });\n        var emphasisState = symbolPath.ensureState('emphasis');\n        zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n          position: textPosition\n        });\n      } else {\n        symbolPath.setTextConfig({\n          rotation: labelRotate *= Math.PI / 180\n        });\n      }\n    });\n    this._firstRender = false;\n  };\n\n  GraphView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n\n  GraphView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (!isViewCoordSys(seriesModel.coordinateSystem)) {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      _this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n      _this._lineDraw.updateLayout(); // Only update label layout on zoom\n\n\n      api.updateLabelLayout();\n    });\n  };\n\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el && el.setSymbolScale(nodeScale);\n    });\n  };\n\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  };\n\n  GraphView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  };\n\n  GraphView.type = 'graph';\n  return GraphView;\n}(ChartView);\n\nexport default GraphView;"],"mappings":"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"},"metadata":{},"sourceType":"script"}