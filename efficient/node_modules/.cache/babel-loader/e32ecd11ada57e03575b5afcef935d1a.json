{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _easing = _interopRequireDefault(require(\"./easing.js\"));\n\nvar _util = require(\"../core/util.js\");\n\nvar _cubicEasing = require(\"./cubicEasing.js\");\n\nvar Clip = function () {\n  function Clip(opts) {\n    this._inited = false;\n    this._startTime = 0;\n    this._pausedTime = 0;\n    this._paused = false;\n    this._life = opts.life || 1000;\n    this._delay = opts.delay || 0;\n    this.loop = opts.loop || false;\n    this.onframe = opts.onframe || _util.noop;\n    this.ondestroy = opts.ondestroy || _util.noop;\n    this.onrestart = opts.onrestart || _util.noop;\n    opts.easing && this.setEasing(opts.easing);\n  }\n\n  Clip.prototype.step = function (globalTime, deltaTime) {\n    if (!this._inited) {\n      this._startTime = globalTime + this._delay;\n      this._inited = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var life = this._life;\n    var elapsedTime = globalTime - this._startTime - this._pausedTime;\n    var percent = elapsedTime / life;\n\n    if (percent < 0) {\n      percent = 0;\n    }\n\n    percent = Math.min(percent, 1);\n    var easingFunc = this.easingFunc;\n    var schedule = easingFunc ? easingFunc(percent) : percent;\n    this.onframe(schedule);\n\n    if (percent === 1) {\n      if (this.loop) {\n        var remainder = elapsedTime % life;\n        this._startTime = globalTime - remainder;\n        this._pausedTime = 0;\n        this.onrestart();\n      } else {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Clip.prototype.pause = function () {\n    this._paused = true;\n  };\n\n  Clip.prototype.resume = function () {\n    this._paused = false;\n  };\n\n  Clip.prototype.setEasing = function (easing) {\n    this.easing = easing;\n    this.easingFunc = (0, _util.isFunction)(easing) ? easing : _easing.default[easing] || (0, _cubicEasing.createCubicEasingFunc)(easing);\n  };\n\n  return Clip;\n}();\n\nvar _default = Clip;\nexports.default = _default;","map":{"version":3,"names":["Clip","opts","_inited","_startTime","_pausedTime","_paused","_life","life","_delay","delay","loop","onframe","noop","ondestroy","onrestart","easing","setEasing","prototype","step","globalTime","deltaTime","elapsedTime","percent","Math","min","easingFunc","schedule","remainder","pause","resume","isFunction","easingFuncs","createCubicEasingFunc"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/zrender/lib/animation/Clip.js"],"sourcesContent":["import easingFuncs from './easing.js';\nimport { isFunction, noop } from '../core/util.js';\nimport { createCubicEasingFunc } from './cubicEasing.js';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._inited = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop || false;\n        this.onframe = opts.onframe || noop;\n        this.ondestroy = opts.ondestroy || noop;\n        this.onrestart = opts.onrestart || noop;\n        opts.easing && this.setEasing(opts.easing);\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._inited) {\n            this._startTime = globalTime + this._delay;\n            this._inited = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var life = this._life;\n        var elapsedTime = globalTime - this._startTime - this._pausedTime;\n        var percent = elapsedTime / life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easingFunc = this.easingFunc;\n        var schedule = easingFunc ? easingFunc(percent) : percent;\n        this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                var remainder = elapsedTime % life;\n                this._startTime = globalTime - remainder;\n                this._pausedTime = 0;\n                this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    Clip.prototype.setEasing = function (easing) {\n        this.easing = easing;\n        this.easingFunc = isFunction(easing)\n            ? easing\n            : easingFuncs[easing] || createCubicEasingFunc(easing);\n    };\n    return Clip;\n}());\nexport default Clip;\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA,IAAIA,IAAI,GAAI,YAAY;EACpB,SAASA,IAAT,CAAcC,IAAd,EAAoB;IAChB,KAAKC,OAAL,GAAe,KAAf;IACA,KAAKC,UAAL,GAAkB,CAAlB;IACA,KAAKC,WAAL,GAAmB,CAAnB;IACA,KAAKC,OAAL,GAAe,KAAf;IACA,KAAKC,KAAL,GAAaL,IAAI,CAACM,IAAL,IAAa,IAA1B;IACA,KAAKC,MAAL,GAAcP,IAAI,CAACQ,KAAL,IAAc,CAA5B;IACA,KAAKC,IAAL,GAAYT,IAAI,CAACS,IAAL,IAAa,KAAzB;IACA,KAAKC,OAAL,GAAeV,IAAI,CAACU,OAAL,IAAgBC,UAA/B;IACA,KAAKC,SAAL,GAAiBZ,IAAI,CAACY,SAAL,IAAkBD,UAAnC;IACA,KAAKE,SAAL,GAAiBb,IAAI,CAACa,SAAL,IAAkBF,UAAnC;IACAX,IAAI,CAACc,MAAL,IAAe,KAAKC,SAAL,CAAef,IAAI,CAACc,MAApB,CAAf;EACH;;EACDf,IAAI,CAACiB,SAAL,CAAeC,IAAf,GAAsB,UAAUC,UAAV,EAAsBC,SAAtB,EAAiC;IACnD,IAAI,CAAC,KAAKlB,OAAV,EAAmB;MACf,KAAKC,UAAL,GAAkBgB,UAAU,GAAG,KAAKX,MAApC;MACA,KAAKN,OAAL,GAAe,IAAf;IACH;;IACD,IAAI,KAAKG,OAAT,EAAkB;MACd,KAAKD,WAAL,IAAoBgB,SAApB;MACA;IACH;;IACD,IAAIb,IAAI,GAAG,KAAKD,KAAhB;IACA,IAAIe,WAAW,GAAGF,UAAU,GAAG,KAAKhB,UAAlB,GAA+B,KAAKC,WAAtD;IACA,IAAIkB,OAAO,GAAGD,WAAW,GAAGd,IAA5B;;IACA,IAAIe,OAAO,GAAG,CAAd,EAAiB;MACbA,OAAO,GAAG,CAAV;IACH;;IACDA,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASF,OAAT,EAAkB,CAAlB,CAAV;IACA,IAAIG,UAAU,GAAG,KAAKA,UAAtB;IACA,IAAIC,QAAQ,GAAGD,UAAU,GAAGA,UAAU,CAACH,OAAD,CAAb,GAAyBA,OAAlD;IACA,KAAKX,OAAL,CAAae,QAAb;;IACA,IAAIJ,OAAO,KAAK,CAAhB,EAAmB;MACf,IAAI,KAAKZ,IAAT,EAAe;QACX,IAAIiB,SAAS,GAAGN,WAAW,GAAGd,IAA9B;QACA,KAAKJ,UAAL,GAAkBgB,UAAU,GAAGQ,SAA/B;QACA,KAAKvB,WAAL,GAAmB,CAAnB;QACA,KAAKU,SAAL;MACH,CALD,MAMK;QACD,OAAO,IAAP;MACH;IACJ;;IACD,OAAO,KAAP;EACH,CA/BD;;EAgCAd,IAAI,CAACiB,SAAL,CAAeW,KAAf,GAAuB,YAAY;IAC/B,KAAKvB,OAAL,GAAe,IAAf;EACH,CAFD;;EAGAL,IAAI,CAACiB,SAAL,CAAeY,MAAf,GAAwB,YAAY;IAChC,KAAKxB,OAAL,GAAe,KAAf;EACH,CAFD;;EAGAL,IAAI,CAACiB,SAAL,CAAeD,SAAf,GAA2B,UAAUD,MAAV,EAAkB;IACzC,KAAKA,MAAL,GAAcA,MAAd;IACA,KAAKU,UAAL,GAAkB,IAAAK,gBAAA,EAAWf,MAAX,IACZA,MADY,GAEZgB,eAAA,CAAYhB,MAAZ,KAAuB,IAAAiB,kCAAA,EAAsBjB,MAAtB,CAF7B;EAGH,CALD;;EAMA,OAAOf,IAAP;AACH,CA3DW,EAAZ;;eA4DeA,I"},"metadata":{},"sourceType":"script"}