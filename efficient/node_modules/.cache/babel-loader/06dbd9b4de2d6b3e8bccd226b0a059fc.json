{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar zrUtil = _interopRequireWildcard(require(\"zrender/lib/core/util.js\"));\n\nvar graphic = _interopRequireWildcard(require(\"../../util/graphic.js\"));\n\nvar axisPointerModelHelper = _interopRequireWildcard(require(\"./modelHelper.js\"));\n\nvar eventTool = _interopRequireWildcard(require(\"zrender/lib/core/event.js\"));\n\nvar throttleUtil = _interopRequireWildcard(require(\"../../util/throttle.js\"));\n\nvar _model = require(\"../../util/model.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = (0, _model.makeInner)();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n */\n\nvar BaseAxisPointer =\n/** @class */\nfunction () {\n  function BaseAxisPointer() {\n    this._dragging = false;\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     */\n\n    this.animationThreshold = 15;\n  }\n  /**\n   * @implement\n   */\n\n\n  BaseAxisPointer.prototype.render = function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  };\n  /**\n   * @implement\n   */\n\n\n  BaseAxisPointer.prototype.remove = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @implement\n   */\n\n\n  BaseAxisPointer.prototype.dispose = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.determineAnimation = function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  };\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.createPointerEl = function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.createLabelEl = function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Text(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.updatePointerEl = function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.updateLabelEl = function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        // TODOTODO\n        // shape: elOption.label.shape,\n        x: elOption.label.x,\n        y: elOption.label.y\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  BaseAxisPointer.prototype._renderHandle = function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    handle.setStyle(handleModel.getItemStyle(null, ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'])); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.scaleX = handleSize[0] / 2;\n    handle.scaleY = handleSize[1] / 2;\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  };\n\n  BaseAxisPointer.prototype._moveHandleToValue = function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  };\n\n  BaseAxisPointer.prototype._onHandleDragMove = function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  };\n  /**\n   * Throttled method.\n   */\n\n\n  BaseAxisPointer.prototype._doDispatchAxisPointer = function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  };\n\n  BaseAxisPointer.prototype._onHandleDragEnd = function () {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  };\n  /**\n   * @private\n   */\n\n\n  BaseAxisPointer.prototype.clear = function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n\n    throttleUtil.clear(this, '_doDispatchAxisPointer');\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.doClear = function () {// Implemented by sub-class if necessary.\n  };\n\n  BaseAxisPointer.prototype.buildLabel = function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  };\n\n  return BaseAxisPointer;\n}();\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals_1 = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals_1 = equals_1 && propsEqual(lastProps[key], item);\n    });\n    return !!equals_1;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get(['label', 'show']) ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    x: trans.x || 0,\n    y: trans.y || 0,\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nvar _default = BaseAxisPointer;\nexports.default = _default;","map":{"version":3,"names":["inner","makeInner","clone","zrUtil","bind","BaseAxisPointer","_dragging","animationThreshold","prototype","render","axisModel","axisPointerModel","api","forceRender","value","get","status","_axisModel","_axisPointerModel","_api","_lastValue","_lastStatus","group","_group","handle","_handle","hide","show","elOption","makeElOption","graphicKey","_lastGraphicKey","clear","moveAnimation","_moveAnimation","determineAnimation","graphic","Group","createPointerEl","createLabelEl","getZr","add","doUpdateProps","curry","updateProps","updatePointerEl","updateLabelEl","updateMandatoryProps","_renderHandle","remove","dispose","animation","axis","isCategoryAxis","type","useSnap","getBandWidth","seriesDataCount","axisPointerModelHelper","getAxisInfo","axisExtent","getExtent","Math","abs","pointerOption","pointer","pointerEl","label","labelEl","Text","updateLabelShowHide","setStyle","style","shape","x","y","updateHandleTransform","zr","handleModel","getModel","isInit","createIcon","cursor","draggable","onmousemove","e","eventTool","stop","event","onmousedown","_onHandleDragMove","drift","ondragend","_onHandleDragEnd","getItemStyle","handleSize","isArray","scaleX","scaleY","throttleUtil","createOrUpdate","_moveHandleToValue","getHandleTransProps","getHandleTransform","dx","dy","trans","_payloadInfo","stopAnimation","attr","lastProp","_doDispatchAxisPointer","payloadInfo","dispatchAction","cursorPoint","tooltipOption","axesInfo","axisDim","dim","axisIndex","componentIndex","doClear","buildLabel","xy","wh","xDimIndex","width","height","animationModel","el","props","propsEqual","lastProps","newProps","isObject","equals_1","each","item","key","rotation","silent","z","zlevel","traverse"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as axisPointerModelHelper from './modelHelper.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n */\n\nvar BaseAxisPointer =\n/** @class */\nfunction () {\n  function BaseAxisPointer() {\n    this._dragging = false;\n    /**\n     * In px, arbitrary value. Do not set too small,\n     * no animation is ok for most cases.\n     */\n\n    this.animationThreshold = 15;\n  }\n  /**\n   * @implement\n   */\n\n\n  BaseAxisPointer.prototype.render = function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  };\n  /**\n   * @implement\n   */\n\n\n  BaseAxisPointer.prototype.remove = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @implement\n   */\n\n\n  BaseAxisPointer.prototype.dispose = function (api) {\n    this.clear(api);\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.determineAnimation = function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  };\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.makeElOption = function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.createPointerEl = function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.createLabelEl = function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Text(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.updatePointerEl = function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.updateLabelEl = function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        // TODOTODO\n        // shape: elOption.label.shape,\n        x: elOption.label.x,\n        y: elOption.label.y\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  BaseAxisPointer.prototype._renderHandle = function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    handle.setStyle(handleModel.getItemStyle(null, ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'])); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.scaleX = handleSize[0] / 2;\n    handle.scaleY = handleSize[1] / 2;\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  };\n\n  BaseAxisPointer.prototype._moveHandleToValue = function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  };\n\n  BaseAxisPointer.prototype._onHandleDragMove = function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  };\n  /**\n   * Throttled method.\n   */\n\n\n  BaseAxisPointer.prototype._doDispatchAxisPointer = function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  };\n\n  BaseAxisPointer.prototype._onHandleDragEnd = function () {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  };\n  /**\n   * @private\n   */\n\n\n  BaseAxisPointer.prototype.clear = function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n\n    throttleUtil.clear(this, '_doDispatchAxisPointer');\n  };\n  /**\n   * @protected\n   */\n\n\n  BaseAxisPointer.prototype.doClear = function () {// Implemented by sub-class if necessary.\n  };\n\n  BaseAxisPointer.prototype.buildLabel = function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  };\n\n  return BaseAxisPointer;\n}();\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals_1 = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals_1 = equals_1 && propsEqual(lastProps[key], item);\n    });\n    return !!equals_1;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get(['label', 'show']) ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    x: trans.x || 0,\n    y: trans.y || 0,\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nexport default BaseAxisPointer;"],"mappings":"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"},"metadata":{},"sourceType":"script"}