{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = pointsLayout;\n\nvar _util = require(\"zrender/lib/core/util.js\");\n\nvar _createRenderPlanner = _interopRequireDefault(require(\"../chart/helper/createRenderPlanner.js\"));\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper.js\");\n\nvar _vendor = require(\"../util/vendor.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: (0, _createRenderPlanner.default)(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = (0, _util.map)(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if ((0, _dataStackHelper.isDimensionStacked)(data, dims[0])) {\n        dims[0] = stackResultDim;\n      }\n\n      if ((0, _dataStackHelper.isDimensionStacked)(data, dims[1])) {\n        dims[1] = stackResultDim;\n      }\n\n      var store = data.getStore();\n      var dimIdx0 = data.getDimensionIndex(dims[0]);\n      var dimIdx1 = data.getDimensionIndex(dims[1]);\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && (0, _vendor.createFloat32Array)(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n\n            if (dimLen === 1) {\n              var x = store.get(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = store.get(dimIdx0, i);\n              tmpIn[1] = store.get(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n\n;","map":{"version":3,"names":["pointsLayout","seriesType","forceStoreInTypedArray","plan","createRenderPlanner","reset","seriesModel","data","getData","coordSys","coordinateSystem","pipelineContext","useTypedArray","large","dims","map","dimensions","dim","mapDimension","slice","dimLen","length","stackResultDim","getCalculationInfo","isDimensionStacked","store","getStore","dimIdx0","getDimensionIndex","dimIdx1","progress","params","segCount","end","start","points","createFloat32Array","tmpIn","tmpOut","i","offset","point","x","get","dataToPoint","setItemLayout","setLayout"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/layout/points.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map } from 'zrender/lib/core/util.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport { createFloat32Array } from '../util/vendor.js';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0])) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1])) {\n        dims[1] = stackResultDim;\n      }\n\n      var store = data.getStore();\n      var dimIdx0 = data.getDimensionIndex(dims[0]);\n      var dimIdx1 = data.getDimensionIndex(dims[1]);\n      return dimLen && {\n        progress: function (params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n\n            if (dimLen === 1) {\n              var x = store.get(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = store.get(dimIdx0, i);\n              tmpIn[1] = store.get(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;"],"mappings":"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"},"metadata":{},"sourceType":"script"}