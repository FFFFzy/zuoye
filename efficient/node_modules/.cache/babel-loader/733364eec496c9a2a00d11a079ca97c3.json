{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _tslib = require(\"tslib\");\n\nvar _util = require(\"zrender/lib/core/util.js\");\n\nvar eventTool = _interopRequireWildcard(require(\"zrender/lib/core/event.js\"));\n\nvar graphic = _interopRequireWildcard(require(\"../../util/graphic.js\"));\n\nvar throttle = _interopRequireWildcard(require(\"../../util/throttle.js\"));\n\nvar _DataZoomView = _interopRequireDefault(require(\"./DataZoomView.js\"));\n\nvar _number = require(\"../../util/number.js\");\n\nvar layout = _interopRequireWildcard(require(\"../../util/layout.js\"));\n\nvar _sliderMove = _interopRequireDefault(require(\"../helper/sliderMove.js\"));\n\nvar _helper = require(\"./helper.js\");\n\nvar _states = require(\"../../util/states.js\");\n\nvar _symbol = require(\"../../util/symbol.js\");\n\nvar _log = require(\"../../util/log.js\");\n\nvar _labelStyle = require(\"../../label/labelStyle.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar Rect = graphic.Rect; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\n\nvar SliderZoomView =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(SliderZoomView, _super);\n\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api; // A unique handler for each dataZoom component\n\n    this._onBrush = (0, _util.bind)(this._onBrush, this);\n    this._onBrushEnd = (0, _util.bind)(this._onBrushEnd, this);\n  };\n\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  };\n\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  };\n\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    (0, _util.each)(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    } // Dont use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: (0, _util.bind)(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n\n    barGroup.add(clickPanel);\n  };\n\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    this._displayables.dataShadowSegs = [];\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts; // Not re-render if data doesn't change.\n\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var otherDataExtent_1 = data.getDataExtent(otherDim); // Nice extent.\n\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / (data.count() - 1);\n      var thisCoord_1 = 0; // Optimize for large data shadow\n\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([otherDim], function (value, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          thisCoord_1 += step_1;\n          return;\n        } // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n        var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n        var otherCoord = isEmpty ? 0 : (0, _number.linearMap)(value, otherDataExtent_1, otherShadowExtent_1, true); // Attempt to draw data shadow precisely when there are empty value.\n\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n\n        areaPoints_1.push([thisCoord_1, otherCoord]);\n        linePoints_1.push([thisCoord_1, otherCoord]);\n        thisCoord_1 += step_1;\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    } // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n\n      this._displayables.sliderGroup.add(group);\n\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      (0, _util.each)(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && (0, _util.indexOf)(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent((0, _helper.getAxisMainType)(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler); // Frame border.\n\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })); // Left and right handle to resize\n\n    (0, _util.each)([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n\n      if (!_symbol.symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _log.deprecateLog)('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n\n      var path = (0, _symbol.createSymbol)(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: (0, _util.bind)(this._onDragMove, this, handleIndex),\n        ondragend: (0, _util.bind)(this._onDragEnd, this),\n        onmouseover: (0, _util.bind)(this._showDataInfo, this, true),\n        onmouseout: (0, _util.bind)(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = (0, _number.parsePercent)(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      (0, _states.enableHoverEmphasis)(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: (0, _labelStyle.createTextStyle)(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this); // Handle to move. Only visible when brushSelect is set true.\n\n    var actualMoveZone = filler;\n\n    if (brushSelect) {\n      var moveHandleHeight = (0, _number.parsePercent)(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = (0, _symbol.createSymbol)(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: (0, _util.bind)(this._onDragMove, this, 'all'),\n      ondragstart: (0, _util.bind)(this._showDataInfo, this, true),\n      ondragend: (0, _util.bind)(this._onDragEnd, this),\n      onmouseover: (0, _util.bind)(this._showDataInfo, this, true),\n      onmouseout: (0, _util.bind)(this._showDataInfo, this, false)\n    });\n  };\n\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [(0, _number.linearMap)(range[0], [0, 100], viewExtent, true), (0, _number.linearMap)(range[1], [0, 100], viewExtent, true)];\n  };\n\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    (0, _sliderMove.default)(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? (0, _number.linearMap)(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? (0, _number.linearMap)(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = (0, _number.asc)([(0, _number.linearMap)(handleEnds[0], viewExtend, percentExtent, true), (0, _number.linearMap)(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = (0, _number.asc)(handleEnds.slice());\n    var size = this._size;\n    (0, _util.each)([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    }; // Move handle\n\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent); // Force update path on the invisible object\n\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    } // update clip path of shadow.\n\n\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n\n    this._updateDataInfo(nonRealtime);\n  };\n\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = (0, _number.asc)(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    }) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return (0, _util.isFunction)(labelFormatter) ? labelFormatter(value, valueStr) : (0, _util.isString)(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n\n\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide); // Highlight move handle\n\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date(); // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n\n    if (!brushRect) {\n      return;\n    }\n\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date(); // console.log(brushEndTime - this._brushStartTime);\n\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n\n    var viewExtend = this._getViewExtent();\n\n    var percentExtent = [0, 100];\n    this._range = (0, _number.asc)([(0, _number.linearMap)(brushShape.x, viewExtend, percentExtent, true), (0, _number.linearMap)(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n\n    this._updateView();\n\n    this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n\n\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = (0, _helper.collectReferCoordSysModelInfo)(this.dataZoomModel).infoList;\n\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  };\n\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(_DataZoomView.default);\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = SliderZoomView;\nexports.default = _default;","map":{"version":3,"names":["Rect","graphic","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","DEFAULT_MOVE_HANDLE_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","easing","duration","delay","SliderZoomView","_super","__extends","_this","apply","arguments","type","_displayables","prototype","init","ecModel","api","_onBrush","bind","_onBrushEnd","render","dataZoomModel","payload","throttle","createOrUpdate","get","_orient","getOrient","group","removeAll","noTarget","_clear","from","uid","_buildView","_updateView","dispose","clear","zr","getZr","off","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","Group","_renderBackground","_renderHandle","_renderDataShadow","add","_positionGroup","showMoveHandle","moveHandleSize","coordRect","_findCoordRect","ecSize","width","getWidth","height","getHeight","positionInfo","right","x","top","y","layoutParams","layout","getLayoutParams","option","each","name","layoutRect","getLayoutRect","_location","_size","reverse","location","orient","targetAxisModel","getFirstTargetAxisModel","inverse","otherAxisInverse","_dataShadowInfo","attr","scaleY","scaleX","rotation","Math","PI","rect","getBoundingRect","markRedraw","_getViewExtent","size","brushSelect","silent","shape","style","fill","z2","clickPanel","onclick","_onClickPanel","on","_onBrushStart","cursor","info","_prepareDataShadowInfo","dataShadowSegs","oldSize","_shadowSize","seriesModel","series","data","getRawData","otherDim","getShadowDim","polygonPts","_shadowPolygonPts","polylinePts","_shadowPolylinePts","_shadowData","_shadowDim","otherDataExtent_1","getDataExtent","otherOffset","otherShadowExtent_1","thisShadowExtent","areaPoints_1","linePoints_1","step_1","count","thisCoord_1","stride_1","round","lastIsEmpty_1","value","index","isEmpty","isNaN","otherCoord","linearMap","push","length","createDataShadowGroup","isSelectedArea","model","getModel","polygon","Polygon","points","segmentIgnoreThreshold","getAreaStyle","polyline","Polyline","getLineStyle","i","showDataShadow","result","eachTargetAxis","axisDim","axisIndex","seriesModels","getAxisProxy","getTargetSeriesModels","indexOf","thisAxis","getComponent","getAxisMainType","axis","getOtherDim","coordSys","coordinateSystem","getOtherAxis","getData","mapDimension","thisDim","displayables","handles","handleLabels","borderRadius","filler","textConfig","position","subPixelOptimize","r","stroke","lineWidth","handleIndex","iconStr","symbolBuildProxies","process","env","NODE_ENV","deprecateLog","path","createSymbol","getCursor","draggable","drift","_onDragMove","ondragend","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","handleSize","_handleHeight","parsePercent","_handleWidth","setStyle","getItemStyle","strokeNoScale","rectHover","ensureState","enableHoverEmphasis","handleColor","textStyleModel","Text","invisible","createTextStyle","text","verticalAlign","align","getTextColor","font","getFont","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveHandleIcon","moveZoneExpandSize","min","max","moveZone","enterEmphasis","leaveEmphasis","ondragstart","range","_range","getPercentRange","viewExtent","_handleEnds","_updateInterval","delta","handleEnds","viewExtend","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","percentExtent","sliderMove","minSpan","maxSpan","lastRange","asc","nonRealtime","displaybles","handleInterval","slice","handle","handleHeight","setShape","segIntervals","segGroup","clipPath","getClipPath","setClipPath","_updateDataInfo","labelTexts","axisProxy","getAxisModel","dataInterval","calculateDataWindow","start","end","valueWindow","getDataValueWindow","_formatLabel","orderedHandleEnds","setLabel","call","barTransform","getTransform","parent","direction","transformDirection","offset","textPoint","applyTransform","labelFormatter","labelPrecision","getPixelPrecision","valueStr","scale","getLabel","toFixed","isFunction","isString","replace","showOrHide","_dragging","dx","dy","event","eventTool","stop","getLocalTransform","vertex","changed","realtime","_dispatchZoomAction","e","localPoint","transformCoordToLocal","offsetX","offsetY","center","_brushStart","Point","_brushStartTime","Date","brushShape","brushEndTime","abs","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","dispatchAction","dataZoomId","id","animation","coordSysInfoList","collectReferCoordSysModelInfo","infoList","getRect","DataZoomView","map","radius","angle"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/component/dataZoom/SliderZoomView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar Rect = graphic.Rect; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\n\nvar SliderZoomView =\n/** @class */\nfunction (_super) {\n  __extends(SliderZoomView, _super);\n\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api; // A unique handler for each dataZoom component\n\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  };\n\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n\n    _super.prototype.dispose.apply(this, arguments);\n  };\n\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  };\n\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    } // Dont use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n\n    barGroup.add(clickPanel);\n  };\n\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    this._displayables.dataShadowSegs = [];\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts; // Not re-render if data doesn't change.\n\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var otherDataExtent_1 = data.getDataExtent(otherDim); // Nice extent.\n\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / (data.count() - 1);\n      var thisCoord_1 = 0; // Optimize for large data shadow\n\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([otherDim], function (value, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          thisCoord_1 += step_1;\n          return;\n        } // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n        var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n        var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent_1, otherShadowExtent_1, true); // Attempt to draw data shadow precisely when there are empty value.\n\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n\n        areaPoints_1.push([thisCoord_1, otherCoord]);\n        linePoints_1.push([thisCoord_1, otherCoord]);\n        thisCoord_1 += step_1;\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    } // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n\n      this._displayables.sliderGroup.add(group);\n\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler); // Frame border.\n\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })); // Left and right handle to resize\n\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this); // Handle to move. Only visible when brushSelect is set true.\n\n    var actualMoveZone = filler;\n\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    }; // Move handle\n\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent); // Force update path on the invisible object\n\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    } // update clip path of shadow.\n\n\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n\n    this._updateDataInfo(nonRealtime);\n  };\n\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    }) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n\n\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide); // Highlight move handle\n\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date(); // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n\n    if (!brushRect) {\n      return;\n    }\n\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date(); // console.log(brushEndTime - this._brushStartTime);\n\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n\n    var viewExtend = this._getViewExtent();\n\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n\n    this._updateView();\n\n    this._dispatchZoomAction(false);\n  };\n\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n\n\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  };\n\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nexport default SliderZoomView;"],"mappings":"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"},"metadata":{},"sourceType":"script"}