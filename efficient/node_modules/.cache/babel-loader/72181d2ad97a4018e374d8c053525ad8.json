{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStackedOnPoint = getStackedOnPoint;\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper.js\");\n\nvar _util = require(\"zrender/lib/core/util.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = (0, _util.map)(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked = false;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if ((0, _dataStackHelper.isDimensionStacked)(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[0] = stackResultDim;\n  }\n\n  if ((0, _dataStackHelper.isDimensionStacked)(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // If origin is specified as a number, use it as\n  // valueStart directly\n  else if ((0, _util.isNumber)(valueOrigin) && !isNaN(valueOrigin)) {\n    valueStart = valueOrigin;\n  } // auto\n  else {\n    // Both positive\n    if (extent[0] > 0) {\n      valueStart = extent[0];\n    } // Both negative\n    else if (extent[1] < 0) {\n      valueStart = extent[1];\n    } // If is one positive, and one negative, onZero shall be true\n\n  }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}","map":{"version":3,"names":["prepareDataCoordInfo","coordSys","data","valueOrigin","baseAxis","getBaseAxis","valueAxis","getOtherAxis","valueStart","getValueStart","baseAxisDim","dim","valueAxisDim","valueDim","mapDimension","baseDim","baseDataOffset","dims","map","dimensions","coordDim","stacked","stackResultDim","getCalculationInfo","isDimensionStacked","dataDimsForPoint","stackedOverDimension","extent","scale","getExtent","isNumber","isNaN","getStackedOnPoint","dataCoordInfo","idx","value","NaN","get","stackedData","dataToPoint"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/chart/line/helper.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isDimensionStacked } from '../../data/helper/dataStackHelper.js';\nimport { isNumber, map } from 'zrender/lib/core/util.js';\nexport function prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked = false;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[0] = stackResultDim;\n  }\n\n  if (isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    stacked = true;\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // If origin is specified as a number, use it as\n  // valueStart directly\n  else if (isNumber(valueOrigin) && !isNaN(valueOrigin)) {\n      valueStart = valueOrigin;\n    } // auto\n    else {\n        // Both positive\n        if (extent[0] > 0) {\n          valueStart = extent[0];\n        } // Both negative\n        else if (extent[1] < 0) {\n            valueStart = extent[1];\n          } // If is one positive, and one negative, onZero shall be true\n\n      }\n\n  return valueStart;\n}\n\nexport function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}