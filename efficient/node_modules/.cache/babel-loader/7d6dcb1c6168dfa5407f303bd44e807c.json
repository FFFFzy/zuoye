{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\n\nvar _interopRequireWildcard = require(\"C:/Users/Z/Desktop/efficient/efficient/node_modules/@babel/runtime/helpers/interopRequireWildcard.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.register = register;\nexports.unregister = unregister;\n\nvar zrUtil = _interopRequireWildcard(require(\"zrender/lib/core/util.js\"));\n\nvar _env = _interopRequireDefault(require(\"zrender/lib/core/env.js\"));\n\nvar _model = require(\"../../util/model.js\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = (0, _model.makeInner)();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (_env.default.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n\nfunction unregister(key, api) {\n  if (_env.default.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}","map":{"version":3,"names":["inner","makeInner","each","zrUtil","register","key","api","handler","env","node","zr","getZr","records","initGlobalListeners","record","initialized","useHandler","curry","doEnter","onLeave","eventType","cb","on","e","dis","makeDispatchAction","dispatchAction","dispatchTooltipFinally","pendings","showLen","showTip","length","hideLen","hideTip","actuallyPayload","currTrigger","payload","pendingList","type","push","unregister"],"sources":["C:/Users/Z/Desktop/efficient/node_modules/echarts/lib/component/axisPointer/globalListener.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nexport function register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n\nexport function unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}